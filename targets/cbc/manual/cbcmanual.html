<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html><head>  <title>KISS-C Programmers Manual</title><!-- 01-05-2006 version --></head><body><br><center>  <font size="+4"><b>KISS-C Programmers Manual for the CBC Botball Controller</b></font><br></center><!----><a name="PM_Index"></a><center><font size="+3"><b>Programmers Manual Index</b></font><br></center><br><!----><ol>  <li><a href="#Introduction">Introduction</a><br>  </li>  <li><a href="#KISS-C_Interface">KISS-C Interface</a><br>  </li>  <li><a href="#The_main_Function">The main() Function</a><br>  </li>      <li><a href="#A_Quick_C_Tutorial">A Quick C Tutorial</a><br>  <li><a href="#Data_Objects">Data Objects</a><br>    <ul type="disc">      <li><a href="#Variables">Variables</a><br>        <ul>          <li><a href="#Declaration">Declaration</a><br>          </li>          <li><a href="#Local_and_Global_Scopes">Local and GlobalScopes</a><br>          </li>          <li><a href="#Variable_Initialization">VariableInitialization</a><br>          </li>        </ul>      </li>      <li><a href="#Constants">Constants</a><br>        <ul>          <li><a href="#Integer_Constants">Integer Constants</a><br>          </li>          <li><a href="#Floating_Point_Constants">Floating PointConstants</a><br>          </li>          <li><a href="#Characters_and_String_Constants">Charactersand String Constants</a><br>          </li>          <li><a href="#NULL">NULL</a><br>          </li>        </ul>      </li>      <li><a href="#Data_Types">Data Types</a><br>        <ul>          <li><a href="#32-bit_Integers">32-bit Integers</a><br>          </li>          <li><a href="#32-bit_Floating_Point_Numbers">32-bitFloating Point Numbers</a><br>          </li>          <li><a href="#8-bit_Characters">8-bit Characters</a><br>          </li>          <li><a href="#Pointers">Pointers</a><br>          </li>          <li><a href="#Arrays">Arrays</a><br>          </li>          <li><a href="#Structures">Structures</a><br>          </li>        </ul>      </li>      <li><a href="#PointersM">Pointers</a><br>      </li>      <li><a href="#Arrays">Arrays</a><br>        <ul>          <li><a href="#Declaring_and_Initializing_Arrays">Declaringand Initializing Arrays</a><br>          </li>          <li><a href="#Passing_Arrays_as_Arguments">PassingArrays as Arguments</a><br>          </li>          <li><a href="#Multi-dimensional_Arrays">Multi-dimensionalArrays</a><br>          </li>        </ul>      </li>      <li><a href="#Structures2">Structures</a><br>      </li>      <li><a href="#Complex_Initialization_examples">ComplexInitialization examples</a><br>      </li>    </ul>  </li>  <li><a href="#Statements_and_Expressions">Statements andExpressions</a><br>    <ul type="disc">      <li><a href="#Operators">Operators</a><br>        <ul>          <li><a href="#Integer_Operations">Integer Operations</a><br>          </li>          <li><a href="#Floating_Point_Numbers">Floating PointNumbers</a><br>          </li>          <li><a href="#Characters">Characters</a><br>          </li>        </ul>      </li>    </ul>  </li>  <li><a href="#Assignment_Operators_and_Expressions">AssignmentOperators and Expressions</a><br>  </li>  <li><a href="#Increment_and_Decrement_Operators">Increment andDecrement Operators</a><br>  </li>  <li><a href="#Data_Access_Operators">Data Access Operators</a><br>  </li>  <li><a href="#Precedence_and_Order_of_Evaluation">Precedenceand Order of Evaluation</a><br>  </li>  <li><a href="#Control_Flow">Control Flow</a><br>  </li>  <li><a href="#Statements_and_Blocks">Statements and Blocks</a><br>    <ul type="disc">      <li><a href="#If-Else">If-Else</a><br>      </li>      <li><a href="#While">While</a><br>      </li>      <li><a href="#Do-While">Do-While</a><br>      </li>      <li><a href="#For">For</a><br>      </li>      <li><a href="#Switch">Switch</a><br>      </li>      <li><a href="#Break">Break</a><br>      </li>    </ul>  </li>  <li><a href="#LCD_Screen_Printing">LCD Screen Printing</a><br>    <ul type="disc">      <li><a href="#Printing_Examples">Printing Examples</a><br>        <ul>          <li><a href="#Printing_a_message">Printing a message</a><br>          </li>          <li><a href="#Printing_a_number">Printing a number</a><br>          </li>          <li><a href="#Printing_a_number_in_binary">Printing anumber in binary</a><br>          </li>          <li><a href="#Printing_a_floating_point_number">Printinga floating point number</a><br>          </li>          <li><a href="#Printing_two_numbers_in_hexadecimal_format">Printingtwo numbers in hexadecimal format</a><br>          </li>        </ul>      </li>      <li><a href="#Formatting_Command_Summary">Formatting CommandSummary</a><br>      </li>    </ul>  </li>  <li><a href="#Preprocessor">Preprocessor</a><br>    <ul type="disc">      <li><a href="#Preprocessor_Macros">Preprocessor Macros</a><br>      </li>      <li><a href="#Conditional_compilation">Conditional compilation</a><br>      </li>    </ul>  </li>  <li><a href="#The_CBC_Library_File">The CBC Library File</a><br>    <ul type="disc">      <li><a href="#Commonly_Used_CBC_Library_Functions">CommonlyUsed KISS-C Library Functions</a><br>        <ul>          <li><a href="#digitalx"><font color="darkblue">digital</font></a><br>          </li>          <li><a href="#analogx"><font color="darkblue">analog</font></a><br>          </li>          <li><a href="#sleepx"><font color="darkblue">sleep</font></a><br>          </li>          <li><a href="#beepx"><font color="darkblue">beep</font></a><br>          </li>          <li><a href="#tonex"><font color="darkblue">tone</font></a><br>          </li>          <li><a href="#printfx"><font color="darkblue">printf</font></a><br>          </li>          <li><a href="#motorx"><font color="darkblue">motor</font></a><br>          </li>          <li><a href="#fdx"><font color="darkblue">fd</font></a><br>          </li>          <li><a href="#bkx"><font color="darkblue">bk</font></a><br>          </li>          <li><a href="#offx"><font color="darkblue">off</font></a><br>          </li>          <li><a href="#aox"><font color="darkblue">ao</font></a><br>          </li>        </ul>      </li>      <li><a href="#Processes">Processes</a><br>        <ul>          <li><a href="#start_processx"><font color="darkblue">start_process</font></a><br>          </li>          <li><a href="#deferx"><font color="darkblue">defer</font></a><br>          </li>          <li><a href="#kill_processx"><font color="darkblue">kill_process</font></a><br>          </li>        </ul>      </li>  <li><a href="#sensors">Sensors</a></li>  <li><a href="#Functions">Alphabetic List of Functions</a></li>  <li><A href="#Vision">KISS-C Vision API for the CBC</A></LI>  <li><A href="#Create">Using the Create Library for the CBC</A></LI></ul>
  <li><a href="#License">License</a></li></ol><a name="Introduction"></a><font size="+3"><b>Introduction</b></font><p>KIPR's Instructional Software System-C (KISS-C for short) is a development environment for the C language consisting of an editor, acompiler and a set of libraries and simulator for the CBC Botball Controller.KISS-C implements the full ANSI C specification. For information about the C programing language, including history and basic syntax, see the Wikipedia article <a href="http://en.wikipedia.org/wiki/C_(programming_language)">C (programming language)</a>.</p><p>The primary purpose of this manual is to describe the CBC Botball Controller libraries and simulator, which are extensions to the C programming language. This file also provides a basic introduction to programming in C. To learn more about programming in C, consult oneof the many books or websites that provide C references and tutorials. </p><br><!---->  <a name="KISS-C_Interface"></a><font size="+3"><b>KISS-C Interface</b></font> &nbsp;&nbsp;<font size="1"><a href="#PM_Index">Index</a></font>   <br></p><p>Both new (unsaved) and saved files can be opened for editing in KISS-C. A row   of tabs lists the files that have been opened. Clicking a file's tab activates   it for editing.</p><p>The File menu has standard entries for New, Open, Save, Save As, Print, Close  and Exit.</p><p>  To simulate the active file, simply click the Simulate button. The active file   will also be saved, unless it is new, in which case the user is prompted for   a &quot;save as&quot; file name. The active file must contain or #include the   main function, in order to be simulated.</p><p>To download the active file, click on the Download button. If the serial port connecting   the CBC to your pc has not already been specified, a dialog will appear to set   it.</p><p>The interface provides additional capabilities for program entry/edit, minor   adjustment to the display (font size), auto-completion and auto-indentation. If there is a syntax   error in the program, an error window will appear at the bottom of the KISS   C screen with the error message and the file and line number where the error   was detected. If the error occurred in the active file, then clicking on the   error message will move to that line. The edit menu provides a Go to line option.</p><p>  C programs are automatically formatted and indented. Keywords, comments, and   text strings are highlighted with color unless this feature is turned off.   Most CBC-specific library functions will have pop-help when they are entered   into the input window.</p><p>KISS-C does parenthesis-balance-highlighting when the cursor is placed to the   right of any right parenthesis, bracket, or brace.</p><p>   <!----><p><!---->  <a name="A_Quick_C_Tutorial"></a><font size="+3"><b>A Quick C Tutorial</b></font>   &nbsp;&nbsp;<font size="1"><a href="#PM_Index">Index</a></font> </p><p>Most C programs consist of function definitions and data structures.Here is a simple Cprogram that defines a single function, called <b>main</b>.</p><pre><font color="darkgreen">/* <i>Simple example<br>     C Programmer's Manual</i>     */</font>  <font color="blue">int</font> main()<br>  {<br>      <font color="blue">printf</font>(<font color="red">"Hello, world!\n"</font>); <font color="darkgreen">// <i>Something simple</i></font>  }</pre>The expression<table>  <tbody>    <tr>      <td>      <dl>        <dd><font face="Courier">/* &lt;</font><i>text</i><font face="Courier">&gt; */</font></dd>      </dl>      </td>    </tr>  </tbody></table>forms a <i>multi-line</i> or <i>bracketed comment</i>. In contrast, text that starts with "<font face="Courier">//</font>" forms a <i>single line comment</i>, which continues only to the end of the line. Comments are ignored by KISS-C when the program is compiled. <p><a name="return_type"></a>All functions must have a return type. While main   does not return a value to another function, it does return an integer to the   operating system, and so is of type <font face="Courier" color="blue">int</font>.   Other types include no return value (<font face="Courier" color="blue">void</font>) and floating point numbers (<font face="Courier" color="blue">float</font>).   This <i>function declaration</i> information must precede each function definition. </p><p>Immediately following the function declaration is the function'sname (in this case,<b>main</b>). Next, in parentheses, are any arguments (or inputs) tothe function.<b>main</b> hasnone, but an empty set of parentheses is still required.</p><p>After the function arguments is an open curly-brace {. Thissignifies the start of theactual function code. Curly-braces signify program <i>blocks</i>, orchunks of code.</p><p>Next comes a series of <i>C statements</i>. Statements demand thatsome action be taken. Ourdemonstration program has a single statement, a <font face="Courier" color="purple">printf</font> (formatted print). This willprint the message <b>"Hello, world!"</b> to the LCD display. The <b>\n</b>indicates end-of-line.The <font face="Courier" color="purple">printf</font> statement endswith a semicolon (;). <i>All</i> C statements must be ended by asemicolon. Beginning C programmers commonly make the error of omittingthesemicolon that is required to end each statement.</p><p>The <b>main</b> function is ended by the close curly-brace }.</p><p>Let's look at an another example to learn some more features of C.The following codedefines the function <i>square</i>, which returns the mathematicalsquare of a number.</p><pre><font color="blue">int</font> square(<font color="blue">int</font> n)<br>   {<br>       <font color="blue">return</font>(n * n);<br>   }<br></pre>The function is declared as type <font face="Courier" color="blue">int</font>,which means that it will return an integer value.<p>Next comes the function named <b>square</b>, followed by itsargument list in parentheses.square has one argument, <b>n</b>, which is an integer. Notice howdeclaring the type of theargument is done similarly to declaring the type of the function.</p><p>When a function has arguments declared, those argument variables arevalid within the"scope" of the function (i.e., they only have meaning within thefunction's own code).Other functions may use the same variable names independently.</p><p><a name="return_statement"></a>The code for <b>square</b> iscontained within the set of curly braces. In fact, it consists of asingle statement: the <font face="Courier" color="blue">return</font>statement. The<font face="Courier" color="blue">return</font> statement exits thefunction andreturns the value of the C <i>expression</i> that follows it (in thiscase "<b>n * n</b>").</p><p>Except where grouped by parentheses, expressions are evaluatedaccording to a set ofprecedence rules associated with the various operations within theexpression. In thiscase, there is only one operation (multiplication), signified by the "<b>*</b>",so precedence isnot an issue.</p><p>Let's look at an example of a function that performs a function callto the square program.</p><pre><font color="blue">float</font> hypotenuse(<font color="blue">int</font> a, <font color="blue">int</font> b)<br>   {<br>       <font color="blue">float</font> h;<br>       h = <font color="purple">sqrt</font>((<font color="blue">float</font>)(square(a) + square(b)));<br>       <font color="blue">return</font>(h);<br>   }<br></pre>This code demonstrates several more features of C. First, notice thatthe floating pointvariable <b>h</b> is defined at the beginning of the <b>hypotenuse</b>function. In general, whenevera new program block (indicated by a set of curly braces) is begun, newlocal variablesmay be defined.<p>The value of <b>h</b> is set to the result of a call to the <font face="Courier" color="purple">sqrt</font> function. It turns out that<font face="Courier" color="purple">sqrt</font> is abuilt-in KISS-C function that takes a floating point number as itsargument.</p><p>We want to use the <b>square</b> function we defined earlier, whichreturns its result as aninteger. But the sqrt function requires a floating point argument. Weget around thistype incompatibility by coercing the integer sum <b>(square(a) +square(b))</b> into afloat by preceding it with the desired type, in parentheses. Thus, theinteger sum ismade into a floating point number and passed along to <font face="Courier" color="purple">sqrt</font>.</p><p>The <b>hypotenuse</b> function finishes by returning the value of <b>h</b>. </p><p>Note that the functions square and hypotenuse are functions, not a program.   If they are in the same file as the main function written above, they will never   be called. If main was modified to be:</p><pre><font color="darkgreen">/* <i>Simple example<br>     C Programmer's Manual</i>     */</font>  <font color="blue">int</font> main()<br>  {<br>      <font color="blue">printf</font>(<font color="red">"Hypotenuse of 3,4 is %d\n"</font>,hypotenuse(3,4)); <font color="darkgreen">// <i>call a function</i></font>  }</pre><p>then the program (which always starts execution with <strong>main</strong>)   would calculate and print out the hypotenuse of a triangle with side lengths   of 3 &amp; 4. However, <strong>C</strong> requires that functions bedefined   before they are first called. Since hypotenuse is called in main, either the   functions need to be defined earlier in the file, or they can be prototyped   at the begining of the file. A <em>prototype</em> of a <strong>C</strong> function   is simply a <strong>C</strong> statement that includes the return type, function   name and types of the parameters. For example the prototypes of the functions   <strong>square</strong> and <strong>hypotenuse</strong> would be:</p><pre><font color="blue">int</font> square(<font color="blue">int</font> n);<br><font color="blue">float</font> hypotenuse(<font color="blue">int</font> a, <font color="blue">int</font> b);</pre><p>The order in which function protypes appear does not matter as long as they   come before the definitions that call that function.</p><p>This concludes the brief C tutorial. </p><p><!----><a name="Data_Objects"></a><font size="+3"><b>Data Objects</b></font>&nbsp;&nbsp;<font size="1"><a href="#PM_Index">Index</a></font></p><p>Variables and constants are the basic data objects in a C program.Declarations list thevariables to be used, state what type they are, and may set theirinitial value.</p><p><!----><a name="Variables"></a><font size="+2"><b>Variables</b></font>&nbsp;&nbsp;<font size="1"><a href="#PM_Index">Index</a></font></p><p>Variable names are case-sensitive. The underscore character isallowed and is often usedto enhance the readability of long variable names. C keywords like <font face="Courier" color="blue">if</font>,<font face="Courier" color="blue">while</font>, etc. maynot be used as variable names.</p><p>Functions and global variables may not have the same name. Inaddition, if a localvariable is named the same as a function or a global variable, thelocal use takesprecedence; ie., use of the function or global variable is preventedwithin the scope of thelocal variable.</p><dl>  <dd><!---->    <a name="Declaration"></a><font size="+1"><b>Declaration</b></font>&nbsp;&nbsp;<font size="1"><a href="#PM_Index">Index</a></font>    <p>In C, variables can be declared at the top level (outside of anycurly braces) or at the startof each block (a functional unit of code surrounded by curly braces).In general, avariable declaration is of the form:    <table>      <tbody>        <tr>          <td><font face="Times">&nbsp;</font>          <dl>            <dd><font face="Times"><i>&lt;type&gt;&nbsp;&nbsp;&lt;variable-name&gt;</i>; or </font></dd>            <dd><font face="Times"><i>&lt;type&gt;&nbsp;&nbsp;&lt;variable-name&gt;=&lt;initialization-data&gt;</i>;</font></dd>          </dl>          </td>        </tr>      </tbody>    </table>In KISS-C, <i>&lt;<a href="#Data%20Types">type</a>&gt;</i> can be <font face="Courier" ,="" color="blue">int</font>, <font face="Courier" ,="" color="blue">float</font>,    <font face="Courier" ,="" color="blue">char</font>, or <font face="Courier" ,="" color="blue">struct</font> <i>&lt;struct-name&gt;</i>,anddetermines the <i>primary type</i> of the variable declared. This formchanges somewhat whendealing with pointer and array declarations, which are explained in alater section, but ingeneral this is the way you declare variables.    </p>    <p><!---->    <a name="Local_and_Global_Scopes"></a><font size="+1"><b>Local andGlobal Scopes</b></font> &nbsp;&nbsp;<font size="1"><a href="#PM_Index">Index</a></font>    </p>    <p>If a variable is declared within a function, or as an argumentto a function, its binding is    <i>local</i>, meaning that the variable has existence only withinthat function definition.If a variable is declared outside of a function, it is a <i>global</i>variable. It is defined for allfunctions, including functions which are defined in files other thanthe one in which theglobal variable was declared.    </p>    <p><!---->    <a name="Variable_Initialization"></a><font size="+1"><b>VariableInitialization</b></font> &nbsp;&nbsp;<font size="1"><a href="#PM_Index">Index</a></font>    </p>    <p>Local and global variables can be initialized to a value whenthey are declared. If noinitialization value is given, their value is indeterminate.    </p>    <p>All global variable declarations must be initialized to constantvalues. Local variablesmay be initialized to the value of arbitrary expressions including anyglobal variables,function calls, function arguments, or local variables which havealready been initialized.    </p>    <p>Here is a small example of how initialized declarations areused.    </p>    <pre>   <font color="blue">int</font> i=50;     <font color="darkgreen">/* <i>declare i as global integer; initial value 50</i> */</font>   <font color="blue">float</font> j=100.123;  <font color="darkgreen">/* <i>declare j as global float; initial value 100.123</i> */</font>   <font color="blue">int</font> foo()<br>   {<br>     <font color="blue">int</font> x;      <font color="darkgreen">/* <i>declare x as local integer; initial value 0</i> */</font>     <font color="blue">float</font> y=j;   <font color="darkgreen">/* <i>declare y as local float; initial value j</i> */</font>   }    </pre>Local variables are initialized whenever the function containing themis executed.Global variables are initialized whenever a reset condition occurs.Reset conditions occurwhen:    <table>      <tbody>        <tr>          <td>          <ol>            <font face="Times"><li>Code is downloaded;            </li>            <li>The <b>main()</b> procedure is run;            </li>            <li>System hardware reset occurs.</li>            </font>          </ol>          </td>        </tr>      </tbody>    </table></dd></dl><p><!----></p><a name="Constants"></a><font size="+2"><b>Constants</b></font>&nbsp;&nbsp;<font size="1"><a href="#PM_Index">Index</a></font><p><!----></p><dl>  <dd><a name="Integer_Constants"></a>    <font size="+1"><b>Integer Constants</b></font> &nbsp;&nbsp;<font size="1"><a href="#PM_Index">Index</a></font>    <p>Integers constants may be defined in decimal integer format(e.g., <b>4053</b> or <b>-1</b>) orhexadecimal format using the "<b>0x</b>" prefix (e.g., <b>0x1fffffff</b>).    </p>    <p><!---->    <a name="Floating_Point_Constants"></a><font size="+1"><b>FloatingPoint Constants</b></font> &nbsp;&nbsp;<font size="1"><a href="#PM_Index">Index</a></font>    </p>    <p>Floating point numbers may use exponential notation (e.g., "<b>10e3</b>"or "<b>10E3</b>") or maycontain a decimal period. For example, the floating point zero can begiven as "<b>0.</b>","<b>0.0</b>", or "<b>0E1</b>", but not as just "<b>0</b>". <i>Sincethe board has no floating point hardware,floating point operations are much slower than integer operations, andshould be usedsparingly.</i>    </p>    <p><!---->    <a name="Characters_and_String_Constants"></a><font size="+1"><b>Charactersand String Constants</b></font> &nbsp;&nbsp;<font size="1"><a href="#PM_Index">Index</a></font>    </p>    <p>Quoted characters return their ASCII value (e.g., '<b>x</b>').    </p>    <p>Character string constants are defined with quotation marks,e.g.,    <font face="Courier" color="red">"This is a character string."</font>.    </p>    <p><!---->    <a name="NULL"></a><font size="+1"><b><font face="Courier">NULL</font></b></font>&nbsp;&nbsp;<font size="1"><a href="#PM_Index">Index</a></font>    </p>    <p>The special constant <b>NULL</b> has the value of zero and canbe assigned to and compared topointer or array variables (which will be described in later sections).In general, youcannot convert other constants to be of a pointer type, so there aremany times when    <b>NULL</b> can be useful.    </p>    <p>For example, in order to check if a pointer has been initializedyou could compare itsvalue to <b>NULL</b> and not try to access its contents if it was <b>NULL</b>.Also, if you had a defineda linked list type consisting of a value and a pointer to the nextelement, you could lookfor the end of the list by comparing the next pointer to <b>NULL</b>.    </p>  </dd></dl><!----><a name="Data_Types"></a><font size="+2"><b>Data Types</b></font>&nbsp;&nbsp;<font size="1"><a href="#PM_Index">Index</a></font><p>KISS-C supports the following data types:</p><p><!----></p><dl>  <dd>    <a name="32-bit_Integers"></a><font size="+1"><b>32-bit Integers</b></font>&nbsp;&nbsp;<font size="1"><a href="#PM_Index">Index</a></font>    </p>    <p>32-bit integers are signified by the type indicator <font face="Courier" color="blue">int</font>. They are signed integers, andmay be valued from -2,147,483,648 to +2,147,483,647 decimal.    </p>    <p><!---->    <a name="32-bit_Floating_Point_Numbers"></a><font size="+1"><b>32-bitFloating Point Numbers</b></font> &nbsp;&nbsp;<font size="1"><a href="#PM_Index">Index</a></font>    </p>    <p>Floating point numbers are signified by the type indicator <font face="Courier" color="blue">float</font>. They haveapproximately seven decimal digits of precision and are valued fromabout 10^-38 to10^38.    </p>    <p><!---->    <a name="8-bit_Characters"></a><font size="+1"><b>8-bit Characters</b></font>&nbsp;&nbsp;<font size="1"><a href="#PM_Index">Index</a></font>    </p>    <p>Characters are an 8-bit number signified by the type indicator <font face="Courier" color="blue">char</font>. A character's valuetypically represents a printable symbol using the standard ASCIIcharacter code, but thisis not necessary; characters can be used to refer to arbitrary 8-bitnumbers.    </p>    <p><!---->    <a name="Pointers"></a></p>    <p><font size="+1"><b>Pointers</b></font> &nbsp;&nbsp;<font size="1"><a href="#PM_Index">Index</a></font>KISS-C pointers are 32-bit numbers which represent locations in memory.Values in memorycan be manipulated by calculating, passing and <i>dereferencing</i>pointers representing thelocation where the information is stored.    </p>    <p><!---->    <a name="Arrays"></a></p>    <p><font size="+1"><b>Arrays</b></font> &nbsp;&nbsp;<font size="1"><a href="#PM_Index">Index</a></font>Arrays are used to store homogenous lists of data (meaning that all theelements of anarray have the same type). Every array has a length which is determinedat the time thearray is declared. The data stored in the elements of an array can beset and retrieved inthe same manner as for other variables.    </p>    <p><!---->    <a name="Structures"></a><font size="+1"><b>Structures</b></font>&nbsp;&nbsp;<font size="1"><a href="#PM_Index">Index</a></font>    </p>    <p>Structures are used to store non-homogenous but related sets ofdata. Elements of astructure are referenced by name instead of number and may be of anysupported type.    </p>    <p>Structures are useful for organizing related data into acoherent format, reducing thenumber of arguments passed to functions, increasing the effectivenumber of valueswhich can be returned by functions, and creating complex datarepresentations such asdirected graphs and linked lists.    </p>  </dd></dl><!----><a name="PointersM"></a><font size="+2"><b>Pointers</b></font>&nbsp;&nbsp;<font size="1"><a href="#PM_Index">Index</a></font><p>The address where a value is stored in memory is known as thepointer to that value. It isoften useful to deal with pointers to objects, but great care must betaken to insure that thepointers used at any point in your code really do point to validobjects in memory.</p><p>For additional information on programming with C pointers, please refer to a C programming book or website.</p><p><!----><a name="Arrays"></a><font size="+2"><b>Arrays</b></font> &nbsp;&nbsp;<font size="1"><a href="#PM_Index">Index</a></font></p><p>KISS-C supports arrays of characters, integers,floating-point numbers,structures, pointers, and array pointers (multi-dimensional arrays).The main reasonsthat arrays are useful are that they allow you to allocate space formany instances of agiven type, send an arbitrary number of values to functions, andprovide the means foriterating over a set of values.</p><dl><dd><p><!----><a name="Declaring_and_Initializing_Arrays"></a><font size="+1"><b>Declaringand Initializing Arrays</b></font> &nbsp;&nbsp;<font size="1"><a href="#PM_Index">Index</a></font></p><p>Arrays are declared using square brackets. The following statementdeclares an array often integers:</p><pre>   <font color="blue">int</font> foo[10];<br></pre>In this array, elements are numbered from 0 to 9. Elements are accessedby enclosing theindex number within square brackets: <b>foo[4]</b> denotes the fifthelement of the array foo(since counting begins at zero).<p>Arrays not initialized at declaration contain indeterminate values. Arraysmay be initializedat declaration by specifying the array elements, separated by commas,within curlybraces. If no size value is specified within the square brackets whenthe array is declaredbut initialization information is given, the size of the array isdetermined by the numberof elements given in the declaration. For example,</p><pre>   <font color="blue">int</font> foo[]= {0, 4, 5, -8,  17, 301};<br></pre>creates an array of six integers, with <b>foo[0]</b> equaling <b>0</b>,<b>foo[1]</b> equaling <b>4</b>, etc.<p>If a size is specified and initialization data is given, the lengthof the initialization datamay not exceed the specified length of the array or an error results.If, on the other hand,you specify the size and provide fewer initialization elements than thetotal length of thearray, the remaining elements contain indeterminate values.</p><p>Character arrays are typically text strings. There is a specialsyntax for initializing arraysof characters. The character values of the array are enclosed inquotation marks:</p><pre>   <font color="blue">char</font> string[]= <font color="red">"Hello there"</font>;<br></pre>This form creates a character array called <b>string</b> with theASCII values of the specifiedcharacters. In addition, the character array is terminated by a zero.Because of this zero-termination, the character array can be treated asa string for purposes of printing (forexample). Character arrays can be initialized using the curly bracessyntax, but they willnot be automatically null-terminated in that case. In general, printingof character arraysthat are not null-terminated will cause problems.<p><!----><a name="Passing_Arrays_as_Arguments"></a><font size="+1"><b>PassingArrays as Arguments</b></font> &nbsp;&nbsp;<font size="1"><a href="#PM_Index">Index</a></font></p><p>When an array is passed to a function as an argument, the array'spointer is actuallypassed, rather than the elements of the array. If the function modifiesthe array values, thearray will be modified, since there is only one copy of the array inmemory.</p><p>There are two ways of declaring an array argument: asan array or as apointer to the type of the array's elements.</p><p>As an example, the following function takes an index and an array,and returns the arrayelement specified by the index:</p><pre>   <font color="blue">int</font> retrieve_element(<font color="blue">int</font> index, <font color="blue">int</font> array[])<br>   {<br>       <font color="blue">return</font> array[index];<br>   }<br></pre>Notice the use of the square brackets to declare the argument array asa pointer to anarray of integers.<p>When passing an array variable to a function, you are actuallypassing the value of thearray pointer itself and not one of its elements, so no square bracketsare used.</p><pre>   <font color="blue">void</font> foo()<br>   {<br>       <font color="blue">int</font> array[10];<br>       retrieve_element(3, array);<br>   }<br></pre><!----><a name="Multi-dimensional_Arrays"></a><font size="+1"><b>Multi-dimensionalArrays</b></font> &nbsp;&nbsp;<font size="1"><a href="#PM_Index">Index</a></font><p>A two-dimensional array is just like a single dimensional arraywhose elements are one-dimensional arrays. Declaration of a two-dimensional array is asfollows:</p><pre>   <font color="blue">int</font> k[2][3];<br></pre>The number in the first set of brackets is the number of 1-D arrays of <font face="Courier" color="blue">int</font>. The number inthe second set of brackets is the length of each of the 1-D arrays of <font face="Courier" color="blue">int</font>. In this example,<b>k</b> is an array containing two 1-D arrays; <b>k[0]</b> is a 1-Darray of <font face="Courier" color=blue>int</font> of length 3;<b>k[0][1]</b> is an <font face="Courier" color=blue>int</font>.Arrays of with any number of dimensions can be generalized fromthis example by adding more brackets in the declaration.</p></dd></dl><a name="Structures2"></a><font size="+2"><b>Structures</b></font>&nbsp;&nbsp;<font size="1"><a href="#PM_Index">Index</a></font></p><p>Structures are used to store non-homogenous but related sets ofdata. Elements of astructure are referenced by name instead of number and may be of anysupported type.Structures are useful for organizing related data into a coherentformat, reducing thenumber of arguments passed to functions, increasing the effectivenumber of valueswhich can be returned by functions, and creating complex datarepresentations such asdirected graphs and linked lists.</p><p>The following example shows how to define a structure, declare avariable of structuretype, and access its elements.</p><pre>   <font color="blue">struct</font> foo<br>   {<br>       <font color="blue">int</font> i;<br>       <font color="blue">int</font> j;<br>   };<br>   <font color="blue">struct</font> foo f1;<br>   <font color="blue">void</font> set_f1(<font color="blue">int</font> i,<font color="blue">int</font> j)<br>   {<br>       f1.i=i;<br>       f1.j=j;<br>   }<br>   <font color="blue">void</font> get_f1(<font color="blue">int</font> *i,<font color="blue">int</font> *j)<br>   {<br>       *i=f1.i;<br>       *j=f1.j;<br>   }<br></pre>The first part is the structure definition. It consists of the keyword<font face="Courier" color="blue">struct</font>, followed bythe name of the structure (which can be any valid identifier), followedby a list of namedelements in curly braces. This definition specifies the structure ofthe type <font face="Courier" color="blue">struct</font> <b>foo</b>.Once there is a definition of this form, you can use the type <font face="Courier" color="blue">struct</font> <b>foo</b> just like anyother type. The line<pre>    <font color="blue">struct</font> foo f1;<br></pre>is a global variable declaration which declares the variable <b>f1</b>to be of type <font face="Courier" color="blue">struct</font><b>foo</b>.<p>The dot operator is used to access the elements of a variable ofstructure type. In thiscase, <b>f1.i</b> and <b>f1.j</b> refer to the two elements of <b>f1</b>.You can treat the quantities <b>f1.i</b>and <b>f1.j</b> just as you would treat any variables of type <font face="Courier" color="blue">int</font> (the type of the elements wasdefined in the structure declaration at the top to be <font face="Courier" color="blue">int</font>).</p><p>Pointers to structure types can also be used, just like pointers toany other type. However,with structures, there is a special short-cut for referring to theelements of the structurepointed to.</p><pre>   <font color="blue">struct</font> foo *fptr;<br>   <font color="blue">void</font> main()<br>   {<br>       fptr=&amp;f1;<br>       fptr-&gt;i=10;<br>       fptr-&gt;j=20;<br>   }<br></pre>In this example, <b>fptr</b> is declared to be a pointer to type <font face="Courier" color="blue">struct</font> <b>foo</b>. In main, it isset topoint to the global <b>f1</b> defined above. Then the elements of thestructure pointed to by <b>fptr</b>(in this case these are the same as the elements of <b>f1</b>), areset. The arrow operator is usedinstead of the dot operator because fptr is a pointer to a variable oftype <font face="Courier" color="blue">struct</font> <b>foo</b>. Notethat <b>(*fptr).i</b> would have worked just as well as <b>fptr<font face="Courier">-&gt;</font>i</b>, but it would have beenclumsier.<p>Note that only pointers to structures, not the structuresthemselves, can be passed to orreturned from functions.</p><p><!----><a name="Complex_Initialization_examples"></a><font size="+2"><b>ComplexInitialization examples</b></font> &nbsp;&nbsp;<font size="1"><a href="#PM_Index">Index</a></font></p><p>Complex types -- arrays and structures -- may be initialized upondeclaration with asequence of constant values contained within curly braces and separatedby commas.</p><p>Arrays of character may also be initialized with a quoted string ofcharacters.</p><p>For initialized declarations of single dimensional arrays, thelength can be left blank anda suitable length based on the initialization data will be assigned toit. <i>Multi-dimensionalarrays must have the size of all dimensions specified when the array isdeclared</i>. If alength is specified, the initialization data may not overflow thatlength in any dimensionor an error will result. However, the initialization data may beshorter than the specifiedsize and the remaining entries will be initialized to 0.</p><p>Following is an example of legal global and local variableinitializations:</p><pre>   <font color="darkgreen">/* <i>declare many globals of various types</i> */</font>   <font color="blue">int</font> i=50;<br>   <font color="blue">int</font> *ptr=NULL;<br>   <font color="blue">float</font> farr[3]={ 1.2, 3.6, 7.4 };<br>   <font color="blue">int</font> tarr[2][4]={ { 1, 2, 3, 4 }, { 2, 4, 6, 8} };<br>   <font color="blue">char</font> c[]=<font color="red">"Hi there how are you?"</font>;<br>   <font color="blue">char</font> carr[5][10]={<font color="red">"Hi"</font>,<font color="red">"there"</font>,<font color="red">"how"</font>,<font color="red">"are"</font>,<font color="red">"you"</font>};<br>   <font color="blue">struct</font> bar<br>   {<br>      <font color="blue">int</font> i;<br>      <font color="blue">int</font> *p;<br>      <font color="blue">float</font> j;<br>   } b={5, NULL, 10.5};<br>   <font color="blue">struct</font> bar barr[2] = { { 1, NULL, 2.5 }, { 3 } };<br>   /* declare locals of various types */<br>   <font color="blue">int</font> foo()<br>   {<br>      <font color="blue">int</font> x;             <font color="darkgreen">/* <i>local variable x with initial value 0</i> */</font>      <font color="blue">int</font> y= tarr[0][2]; <font color="darkgreen">/* <i>local variable y with initial value 3</i> */</font>      <font color="blue">int</font> *iptr=&amp;i;      <font color="darkgreen">/* <i>local pointer to integer<br>                            which points to the global i</i> */</font>      <font color="blue">int</font> larr[2]={10,20};  <font color="darkgreen">/* <i>local array larr<br>                               with elements 10 and 20</i> */</font>      <font color="blue">struct</font> bar lb={5,NULL,10.5};  <font color="darkgreen">/* <i>local variable of type<br>                                      struct bar with i=5 and j=10.5 </i>*/</font>      <font color="blue">char</font> lc[]=carr[2];    <font color="darkgreen">/* <i>local string lc with<br>                               initial value "how"</i> */</font>      ...   }</pre><!----><a name="Statements_and_Expressions"></a><font size="+3"><b>Statementsand Expressions</b></font> &nbsp;&nbsp;<font size="1"><a href="#PM_Index">Index</a></font><p>Operators act upon objects of a certain type or types and specifywhat is to be done tothem. Expressions combine variables and constants to create new values.Statements areexpressions, assignments, function calls, or control flow statementswhich make up Cprograms.</p><p><!----><a name="Operators"></a><font size="+2"><b>Operators</b></font>&nbsp;&nbsp;<font size="1"><a href="#PM_Index">Index</a></font></p><p>Each of the data types has its own set of operators that determinewhich operations maybe performed on them.</p><p><!----><a name="Integer_Operations"></a><font size="+2"><b>Integer Operations</b></font>&nbsp;&nbsp;<font size="1"><a href="#PM_Index">Index</a></font></p><p>The following operations are supported on integers:</p><ul>  <li><b>Arithmetic</b>. addition <font face="Courier">+</font>,subtraction <font face="Courier">-</font>, multiplication <font face="Courier">*</font>, division <font face="Courier">/</font>. </li>  <li><b>Comparison</b>. greater-than <font face="Courier">&gt;</font>,less-than <font face="Courier">&lt;</font>, equality <font face="Courier">==</font>, greater-than-equal <font face="Courier">&gt;=</font>,less-than-equal <font face="Courier">&lt;=</font>. </li>  <li><b>Bitwise Arithmetic</b>. bitwise-OR <font face="Courier">|</font>,bitwise-AND <font face="Courier">&amp;</font>, bitwise-exclusive-OR <font face="Courier">^</font>, bitwise-NOT <font face="Courier">~</font>. </li>  <li><b>Boolean Arithmetic</b>. logical-OR <font face="Courier">||</font>,logical-AND <font face="Courier">&amp;&amp;</font>, logical-NOT <font face="Courier">!</font>. <br>When a C statement uses a boolean value (for example, <font face="Courier" color="blue">if</font>), it takes the integer zero asmeaning false, and any integer other than zero as meaning true. Theboolean operators return zero for false and one for true. Booleanoperators <font face="Courier">&amp;&amp;</font> and <font face="Courier">||</font> will stop executing as soon as the truth ofthe final expression is determined. For example, in the expression <font face="Courier">a &amp;&amp; b</font>, if <font face="Courier">a</font>is false, then <font face="Courier">b</font> does not need to beevaluated because the result must be false. The <font face="Courier">&amp;&amp;</font>operator therefore will not evaluate <font face="Courier">b</font>.</li></ul><p><!----><a name="Floating_Point_Numbers"></a><font size="+2"><b>Floating PointNumbers</b></font> &nbsp;&nbsp;<font size="1"><a href="#PM_Index">Index</a></font></p><p>KISS-C uses a package of floatingpoint routines. Thispackage includes arithmetic, trigonometric, and logarithmic functions.Since floatingpoint operations are implemented in software, they are much slower thanthe integeroperations; we recommend against using floating point if you areconcerned aboutperformance.</p><p>The following operations are supported on floating point numbers:<table>  <tbody>    <tr>      <td><font face="Times">      <ul>        <li><b>Arithmetic</b>. addition <font face="Courier">+</font>,subtraction <font face="Courier">-</font>, multiplication <font face="Courier">*</font>, division <font face="Courier">/</font>.        </li>        <li><b>Comparison</b>. greater-than <font face="Courier">&gt;</font>,less-than <font face="Courier">&lt;</font>, equality <font face="Courier">==</font>, greater-than-equal <font face="Courier">&gt;=</font>,less-than-equal <font face="Courier">&lt;=</font>.        </li>        <li><b>Built-in Math Functions</b>. A set of trigonometric,logarithmic, and exponentialfunctions is supported. For details, go to the          <a href="#Library%20Function%20Descriptions">Library FunctionDescriptions</a>.These functions are included among those itemized as "Math" functions.</li>      </ul>      </font></td>    </tr>  </tbody></table><!----><a name="Characters"></a><font size="+2"><b>Characters</b></font>&nbsp;&nbsp;<font size="1"><a href="#PM_Index">Index</a></font></p><p>Characters are only allowed in character arrays. When a cell of thearray is referenced, itis automatically coerced into a integer representation for manipulationby the integeroperations. When a value is stored into a character array, it iscoerced from a standard 16-bit integer into an 8-bit character (by truncating the upper eightbits).</p><p><!----><a name="Assignment_Operators_and_Expressions"></a><font size="+3"><b>AssignmentOperators and Expressions</b></font> &nbsp;&nbsp;<font size="1"><a href="#PM_Index">Index</a></font></p><p>The basic assignment operator is <font face="Courier">=</font>. Thefollowing statement adds 2 to the value of <font face="Courier">a</font>.</p><pre>   a = a + 2;<br></pre>The abbreviated form<pre>   a += 2;<br></pre>could also be used to perform the same operation.All of the following binary operators can be used in this fashion:<pre>   +   -   *   /   %   &lt;&lt;   &gt;&gt;   &amp;   ^   |<br></pre><!----><a name="Increment_and_Decrement_Operators"></a><font size="+3"><b>Incrementand Decrement Operators</b></font> &nbsp;&nbsp;<font size="1"><a href="#PM_Index">Index</a></font><p>The increment operator "<font face="Courier">++</font>" incrementsthe named variable. For example, theconstruction "<font face="Courier">a++</font>" is equivalent to "<font face="Courier">a= a+1</font>" or "<font face="Courier">a+= 1</font>".A statement that uses an increment operator has a value. For example,the statement</p><pre>   a= 3; <font color="purple">printf</font>(<font color="red">"a=%d a+1=%d\n"</font>, a, ++a);<br></pre>will display the text "<font face="Courier">a=3 a+1=4</font>".If the increment operator comes after the named variable, then thevalue of the statementis calculated after the increment occurs. So the statement<pre>   a= 3; <font color="purple">printf</font>(<font color="red">"a=%d a+1=%d\n"</font>, a, a++);<br></pre>would display "<font face="Courier">a=3 a+1=3</font>" but would finishwith a set to 4.The decrement operator "<font face="Courier">--</font>" is used in thesame fashion as the increment operator.<p><!----><a name="Data_Access_Operators"></a><font size="+3"><b>Data AccessOperators</b></font> &nbsp;&nbsp;<font size="1"><a href="#PM_Index">Index</a></font></p><p><b><font face="Courier">&amp;</font></b><table>  <tbody>    <tr>      <td><font face="Times">&nbsp;</font>      <dl>        <dd><font face="Times">A single ampersand preceding a variable,an array reference, or a structure elementreference returns a pointer to the location in memory where thatinformation is beingstored. This should not be used on arbitrary expressions as they do nothave a stableplace in memory where they are being stored.</font></dd>      </dl>      </td>    </tr>  </tbody></table><b><font face="Courier">*</font></b><table>  <tbody>    <tr>      <td><font face="Times">&nbsp;</font>      <dl>        <dd><font face="Times">A single * preceeding an expressionwhich evaluates to a pointer returns the valuewhich is stored at that address. This process of accessing the valuestored within apointer is known as <i>dereferencing</i>.</font></dd>      </dl>      </td>    </tr>  </tbody></table><font face="Courier"><b>[</b>&lt;</font><i>expr</i><font face="Courier">&gt;<b>]</b></font><table>  <tbody>    <tr>      <td><font face="Times">&nbsp;</font>      <dl>        <dd><font face="Times">An expression in square braces followingan expression which evaluates to an array(an array variable, the result of a function which returns an arraypointer, etc.) checksthat the value of the expression falls within the bounds of the arrayand referencesthat element.</font></dd>      </dl>      </td>    </tr>  </tbody></table><b><font face="Courier">.</font></b><table>  <tbody>    <tr>      <td><font face="Times">&nbsp;</font>      <dl>        <dd><font face="Times">A dot between a structure variable andthe name of one of its fields returns the valuestored in that field.</font></dd>      </dl>      </td>    </tr>  </tbody></table><b><font face="Courier">-&gt;</font></b><table>  <tbody>    <tr>      <td><font face="Times">&nbsp;</font>      <dl>        <dd><font face="Times">An arrow between a pointer to astructure and the name of one of its fields in thatstructure acts the same as a dot does, except it acts on the structurepointed at by itsleft hand side. Where <b>f</b> is a structure of a type with <b>i</b>as an element name, the twoexpressions <font face="Courier">f.i</font> and <font face="Courier">(&amp;f)-&gt;i</font>are equivalent.</font></dd>      </dl>      </td>    </tr>  </tbody></table></p><p><!----><a name="Precedence_and_Order_of_Evaluation"></a><font size="+3"><b>Precedenceand Order of Evaluation</b></font> &nbsp;&nbsp;<font size="1"><a href="#PM_Index">Index</a></font></p><p>The following table summarizes the rules for precedence andassociativity for the C operators.Operators listed earlier in the table have higher precedence; operatorson the same line of the tablehave equal precedence.<table>  <tbody>    <tr>      <td>      <dl>        <dd>          <table border="1">            <tbody>              <tr>                <td align="center"><font face="Times"><b>Operator</b></font></td>                <td>&nbsp; <b><font face="Times">Associativity</font></b><font face="Times"> &nbsp;</font></td>              </tr>              <tr>                <td><font face="Courier">&nbsp; () []</font></td>                <td align="center"><font face="Times">left to right</font></td>              </tr>              <tr>                <td><font face="Courier">&nbsp; ! ~ ++ -- - (&lt;</font><i>type</i><font face="Courier">&gt;) &nbsp;</font></td>                <td align="center"><font face="Times">right to left</font></td>              </tr>              <tr>                <td><font face="Courier">&nbsp; * / %</font></td>                <td align="center"><font face="Times">left to right</font></td>              </tr>              <tr>                <td><font face="Courier">&nbsp; + -</font></td>                <td align="center"><font face="Times">left to right</font></td>              </tr>              <tr>                <td><font face="Courier">&nbsp; &lt;&lt; &gt;&gt;</font></td>                <td align="center"><font face="Times">left to right</font></td>              </tr>              <tr>                <td><font face="Courier">&nbsp; &lt; &lt;= &gt; &gt;=</font></td>                <td align="center"><font face="Times">left to right</font></td>              </tr>              <tr>                <td><font face="Courier">&nbsp; == !=</font></td>                <td align="center"><font face="Times">left to right</font></td>              </tr>              <tr>                <td><font face="Courier">&nbsp; &amp;</font></td>                <td align="center"><font face="Times">left to right</font></td>              </tr>              <tr>                <td><font face="Courier">&nbsp; ^</font></td>                <td align="center"><font face="Times">left to right</font></td>              </tr>              <tr>                <td><font face="Courier">&nbsp; |</font></td>                <td align="center"><font face="Times">left to right</font></td>              </tr>              <tr>                <td><font face="Courier">&nbsp; &amp;&amp;</font></td>                <td align="center"><font face="Times">left to right</font></td>              </tr>              <tr>                <td><font face="Courier">&nbsp; ||</font></td>                <td align="center"><font face="Times">right to left</font></td>              </tr>              <tr>                <td><font face="Courier">&nbsp; = += -=</font> etc.</td>                <td align="center"><font face="Times">right to left</font></td>              </tr>              <tr>                <td><font face="Courier">&nbsp; ,</font></td>                <td align="center"><font face="Times">left to right</font></td>              </tr>            </tbody>          </table>        </dd>      </dl>      </td>      <td><br>      </td>    </tr>  </tbody></table><!----></p><p><a name="Control_Flow"></a><font size="+3"><b>Control Flow</b></font> &nbsp;&nbsp;<font size="1"><a href="#PM_Index">Index</a></font></p><p>KISS-C supports all of the standard C control structures.</p><p><!----><a name="Statements_and_Blocks"></a><font size="+2"><b>Statements andBlocks</b></font> &nbsp;&nbsp;<font size="1"><a href="#PM_Index">Index</a></font></p><p>A single C statement is ended by a semicolon. A series of statementsmay be groupedtogether into a <i>block</i> using curly braces. Inside a block, localvariables may be defined. Blocks may beused in place of statements in the control flow constructs.</p><p><!----><a name="If-Else"></a><font size="+2"><b>If-Else</b></font> &nbsp;&nbsp;<font size="1"><a href="#PM_Index">Index</a></font></p><p>The <font face="Courier" color="blue">if else</font> statement isused to make decisions. The syntax is:</p><pre>   <font color="blue">if</font> (&lt;<font face="Times"><i>expression</i></font>&gt;)<br>       &lt;<font face="Times"><i>statement-1</i></font>&gt;<br>   <font color="blue">else</font>       &lt;<font face="Times"><i>statement-2</i></font>&gt;<br></pre>&lt;<i>expression</i>&gt; is evaluated; if it is not equal to zero(e.g., logic true), then&lt;<i>statement-1</i>&gt; is executed.<p>The <font face="Courier" color="blue">else</font> clause isoptional. If the<font face="Courier" color="blue">if</font> part of the statement didnot execute, and the<font face="Courier" color="blue">else</font> is present, then &lt;<i>statement-2</i>&gt;executes.</p><p><!----><a name="While"></a><font size="+2"><b>While</b></font> &nbsp;&nbsp;<font size="1"><a href="#PM_Index">Index</a></font></p><p>The syntax of a <font face="Courier" color="blue">while</font> loopis the following:</p><pre>   <font color="blue">while</font> (&lt;<font face="Times"><i>expression</i></font>&gt;)<br>       &lt;<font face="Times"><i>statement</i></font>&gt;<br></pre><font face="Courier" color="blue">while</font> begins by evaluating &lt;<i>expression</i>&gt;.If it is false, then&lt;<i>statement</i>&gt; is skipped. If itis true, then &lt;<i>statement</i>&gt; is evaluated. Then theexpression is evaluated again, and thesame check is performed. The loop exits when &lt;<i>expression</i>&gt;becomes zero.<p>One can easily create an infinite loop in C using the <font face="Courier" color="blue">while</font> statement:</p><pre>   <font color="blue">while</font> (1)<br>      &lt;<font face="Times"><i>statement</i></font>&gt;<br></pre><p><!----><a name="Do-While"></a><font size="+2"><b>Do-While</b></font> &nbsp;&nbsp;<font size="1"><a href="#PM_Index">Index</a></font></p><p>The syntax of a <font face="Courier" color="blue">do</font>-<font face="Courier" color="blue">while</font> loopis the following:</p><pre>   <font color="blue">do</font><br>      &lt;<font face="Times"><i>statement</i></font>&gt;<br>   <font color="blue">while</font> (&lt;<font face="Times"><i>expression</i></font>&gt;);<br></pre><p>The equivalent <font color="blue">while</font> loop would be the following:</p><pre>   &lt;<font face="Times"><i>statement</i></font>&gt;<br>   <font color="blue">while</font> (&lt;<font face="Times"><i>expression</i></font>&gt;)<br>       &lt;<font face="Times"><i>statement</i></font>&gt;<br></pre><p><!----><a name="For"></a><font size="+2"><b>For</b></font> &nbsp;&nbsp;<font size="1"><a href="#PM_Index">Index</a></font></p><p>The syntax of a <font face="Courier" color="blue">for</font> loopis the following:</p><pre>   <font color="blue">for</font> (&lt;<font face="Times"><i>expr-1</i></font>&gt;;&lt;<font face="Times"><i>expr-2</i></font>&gt;;&lt;<font face="Times"><i>expr-3</i></font>&gt;)<br>      &lt;<font face="Times"><i>statement</i></font>&gt;<br></pre>The <font face="Courier" color="blue">for</font> construct isequivalent tothe following construct using <font face="Courier" color="blue">while</font>:<pre>   &lt;<font face="Times"><i>expr-1</i></font>&gt;;<br>   <font face="Courier" color="blue">while</font> (&lt;<font face="Times"><i>expr-2</i></font>&gt;)<br>   {<br>      &lt;<font face="Times"><i>statement</i></font>&gt;<br>      &lt;<font face="Times"><i>expr-3</i></font>&gt;;<br>   }<br>   </pre>Typically, &lt;<i>expr-1</i>&gt; is an assignment, &lt;<i>expr-2</i>&gt;is a relational expression, and &lt;<i>expr-3</i>&gt;is an increment or decrement of some manner. For example, the followingcode countsfrom 0 to 99, printing each number along the way:<pre>   <font color="blue">int</font> i;<br>   <font color="blue">for</font> (i = 0; i &lt; 100; i++)<br>       <font color="purple">printf</font>("%d\n", i);<br></pre><p><!----><a name="Switch"></a><font size="+2"><b>Switch</b></font> &nbsp;&nbsp;<font size="1"><a href="#PM_Index">Index</a></font></p><p>The syntax of a <font face="Courier" color="blue">switch</font> block is as follows:</p><pre>   <font face="Courier" color="blue">switch</font> (<font face="Courier" color="blue">int</font>)<br>   {<br>       <font face="Courier" color="blue">case</font> <font face="Times"><i>const1</i></font>:<br>           &lt;<font face="Times"><i>statement list1</i></font>&gt;<br>           <font face="Courier" color="blue">break</font>;<br>       <font face="Courier" color="blue">case</font> <font face="Times"><i>const2</i></font>:<br>           &lt;<font face="Times"><i>statement list2</i></font>&gt;<br>           <font face="Courier" color="blue">break</font>;<br>       <font face="Courier" color="blue">default</font>:<br>           &lt;<font face="Times"><i>statement list3</i></font>&gt;<br>   }<br></pre><p>The <font color="blue" face="Courier">switch</font> construct takes an integer variable as input, and compares it to each <font color="blue" face="Courier">case</font> listed.  The first matching <font color="Times"><i>const</i></font> is selected, andexecution begins there.  The <font color="blue" face="Courier">break</font> is optional, and if no break is found then executioncontinues through each following statement.  Also note that each <font color="blue" face="Courier">case</font> has a list of single statements, as opposed to a block enclosed in curly braces.<br><br>Here's an example of how a <font color="blue" face="Courier">switch</font> might be used:</p><pre>   <font face="Courier" color="blue">int</font> i = 1;<br>   <font face="Courier" color="blue">switch</font>(i)<br>   {<br>       <font face="Courier" color="blue">case</font> 0:<br>           <font face="Courier" color="purple">printf</font>(<font face="Courier" color="red">"Case 0\n"</font>);<br>           <font face="Courier" color="blue">break</font>;<br>       <font face="Courier" color="blue">case</font> 1:<br>           <font face="Courier" color="purple">printf</font>(<font face="Courier" color="red">"Case 1\n"</font>);<br>           <font face="Courier" color="blue">break</font>;<br>       <font face="Courier" color="blue">default</font>:<br>           <font face="Courier" color="purple">printf</font>(<font face="Courier" color="red">"Default\n"</font>);<br>   }<br></pre><p>Since <font face="Times"><i>i</i></font> is equal to 1, the text "Case 1" will be printed to the screen.  If <font face="Times"><i>i</i></font> were equal to 0, "Case 0" would be printed.  If <font face="Times"><i>i</i></font> were any number besides 0 or 1, "Default" would be printed.</p><!----><a name="Break"></a><font size="+2"><b>Break</b></font> &nbsp;&nbsp;<font size="1"><a href="#PM_Index">Index</a></font><p>Use of the <font face="Courier" color="blue">break</font> statementprovides an early exit from a<font face="Courier" color="blue">while</font>, <font face="Courier" color="blue">do</font>-<font face="Courier" color="blue">while</font> or <font face="Courier" color="blue">for</font> loop.  The break statement can also provide an exit from a <font face="Courier" color="blue">switch</font> block.</p><p><!----><a name="LCD_Screen_Printing"></a><font size="+3"><b>LCD Screen Printing</b></font>&nbsp;&nbsp;<font size="1"><a href="#PM_Index">Index</a></font></p><p>KISS-C has a version of the C function <font face="Courier" color="purple">printf</font> for formatted printing to the LCD screen.KISS-C Also has a CBC specific print command, <font face="Courier" color="purple">cbc_printf</font>, that allows limited cursor control.</p><p>The syntax of <font face="Courier" color="purple">printf</font> isthe following:</p><pre>   <font color="purple">printf</font>(&lt;<font face="Times"><i>format-string</i></font>&gt;, &lt;<font face="Times"><i>arg-1</i></font>&gt; , ... , &lt;<font face="Times"><i>arg-N</i></font>&gt;);<br></pre>This is best illustrated by some examples.<p><!----><a name="Printing_Examples"></a><font size="+2"><b>Printing Examples</b></font>&nbsp;&nbsp;<font size="1"><a href="#PM_Index">Index</a></font></p><p><!----><a name="Printing_a_message"></a><font size="+1"><b>Example 1: Printinga message</b></font> &nbsp;&nbsp;<font size="1"><a href="#PM_Index">PMIndex</a></font></p><p>The following statement prints a text string to the screen.<table>  <tbody>    <tr>      <td>      <pre>   <font color="purple">printf</font>(<font color="red">"Hello, world!\n"</font>);</pre>      </td>    </tr>  </tbody></table>In this example, the format string is simply printed to the screen.The character <font face="Courier"><b>\n</b></font> at the end of thestring signifies end-of-line. When an end-of-linecharacter is printed, the LCD screen will be cleared when a subsequentcharacter isprinted. Thus, most <font face="Courier" color="purple">printf</font>statements are terminated by a<font face="Courier"><b>\n</b></font>.</p><p><!----><a name="Printing_a_number"></a><font size="+1"><b>Example 2: Printinga number</b></font> &nbsp;&nbsp;<font size="1"><a href="#PM_Index">Index</a></font></p><p>The following statement prints the value of the integer variable xwith a brief message.<table>  <tbody>    <tr>      <td>      <pre>   <font color="purple">printf</font>(<font color="red">"Value is %d\n"</font>, x);</pre>      </td>    </tr>  </tbody></table>The special form <font face="Courier"><b>%d</b></font> is used toformat the printing of an integer in decimal format.</p><p><!----><a name="Printing_a_number_in_binary"></a><font size="+1"><b>Example 3:Printing a number in binary</b></font> &nbsp;&nbsp;<font size="1"><a href="#PM_Index">Index</a></font></p><p>The following statement prints the value of the integer variable xas a binary number.<table>  <tbody>    <tr>      <td>      <pre>   <font color="purple">printf</font>(<font color="red">"Value is %b\n"</font>, x);</pre>      </td>    </tr>  </tbody></table>The special form <font face="Courier"><b>%b</b></font> is used toformat the printing of an integer in binary format. Only thelow byte of the number is printed.</p><p><!----><a name="Printing_a_floating_point_number"></a><font size="+1"><b>Example4: Printing a floating point number</b></font> &nbsp;&nbsp;<font size="1"><a href="#PM_Index">Index</a></font></p><p>The following statement prints the value of the floating pointvariable <font face="Courier">n</font> as a floatingpoint number.<table>  <tbody>    <tr>      <td>      <pre>   <font color="purple">printf</font>(<font color="red">"Value is %f\n"</font>, n);</pre>      </td>    </tr>  </tbody></table>The special form <font face="Courier"><b>%f</b></font> is used toformat the printing of floating point number.</p><p><!----><a name="Printing_two_numbers_in_hexadecimal_format"></a><font size="+1"><b>Example5: Printing two numbers in hexadecimal format</b></font> &nbsp;&nbsp;<font size="1"><a href="#PM_Index">Index</a></font></p><p><table>  <tbody>    <tr>      <td>      <pre>   <font color="purple">printf</font>(<font color="red">"A=%x  B=%x\n"</font>, a, b);</pre>      </td>    </tr>  </tbody></table>The form <font face="Courier"><b>%x</b></font> formats an integer toprint in hexadecimal.</p><p><!----><a name="Printing_using_cbc_printf"></a><font size="+1"><b>Example6: Printing using cbc_printf</b></font> &nbsp;&nbsp;<font size="1"><a href="#PM_Index">Index</a></font></p><p><table>  <tbody>    <tr>      <td>      <pre>   <font color="purple">cbc_printf</font>(0,2,<font color="red">"A=%d  B=%d"</font>, a, b);</pre>      </td>    </tr>  </tbody></table>The function <font face="Courier" color="purple"><b>cbc_printf</b></font> is like the statndard <font face="Courier" color="purple"><b>printf</b></font> function except the first twoarguments specify the column and row (zero indexed) to start printing.  Note that <font face="Courier" color="purple"><b>cbc_printf</b></font> will not wrap, it will truncatestrings that go beyond the end of the line.</p><p><!----><a name="Formatting_Command_Summary"></a><font size="+2"><b>FormattingCommand Summary</b></font> &nbsp;&nbsp;<font size="1"><a href="#PM_Index">Index</a></font></p><p><table>  <tbody>    <tr>      <td>      <dl>        <dd>          <table border="1">            <tbody>              <tr>                <td align="center"><font face="Times"><b>&nbsp;FormatCommand&nbsp;</b></font></td>                <td align="center"><font face="Times"><b>Data Type</b></font></td>                <td align="center"><b>Description</b></td>              </tr>              <tr>                <td><font face="Courier">&nbsp; %d </font></td>                <td><font face="Courier" color="blue">&nbsp; int </font></td>                <td><font face="Times">&nbsp; decimal number </font></td>              </tr>              <tr>                <td><font face="Courier">&nbsp; %x </font></td>                <td><font face="Courier" color="blue">&nbsp; int </font></td>                <td><font face="Times">&nbsp; hexadecimal number </font></td>              </tr>              <tr>                <td><font face="Courier">&nbsp; %b </font></td>                <td><font face="Courier" color="blue">&nbsp; int </font></td>                <td><font face="Times">&nbsp; low byte as binary number                </font></td>              </tr>              <tr>                <td><font face="Courier">&nbsp; %c </font></td>                <td><font face="Courier" color="blue">&nbsp; int </font></td>                <td><font face="Times">&nbsp; low byte as ASCIIcharacter &nbsp;</font></td>              </tr>              <tr>                <td><font face="Courier">&nbsp; %f </font></td>                <td><font face="Courier" color="blue">&nbsp; float </font></td>                <td><font face="Times">&nbsp; floating point number </font></td>              </tr>              <tr>                <td><font face="Courier">&nbsp; %s </font></td>                <td><font face="Courier"><font color="blue">&nbsp; char</font>                <font face="Times">array</font> &nbsp;</font></td>                <td><font face="Times">&nbsp; char array (string) </font></td>              </tr>            </tbody>          </table>        </dd>      </dl>      </td>    </tr>  </tbody></table></p><p><!----><a name="Preprocessor"></a><font size="+3"><b>Preprocessor</b></font>&nbsp;&nbsp;<font size="1"><a href="#PM_Index">Index</a></font></p><p>The preprocessor processes a file before it is sent to the compiler.The KISS-C preprocessorallows definition of macros, and conditional compilation of sections ofcode. Usingpreprocessor macros for constants and function macros can make KISS-C codemore efficientas well as easier to read. Using <font face="Courier" color="blue">#if</font>to conditionally compile code can be very useful, forinstance, for debugging purposes.</p><p>The special preprocessor command <font face="Courier" color="blue">#include</font>has been included to allow programs to cause aprogram to download to initiate the download of stored programs thatare not in the KISS-Clibrary. For example, suppose you have a set of stored programs in afile named"<font face="Courier">mylib.ic</font>", some of which you need for yourcurrent program to work.</p><pre>   <font color="darkgreen">/* <i>load my library</i> */</font>   <font color="blue">#include</font> <font color="red">"mylib.ic"</font>   <font color="blue">void</font> main()<br>   {<br>       <font color="blue">char</font> s[32] = <font color="red">"text string wrapping badly\n"</font>;<br>       fix (s);    <font color="darkgreen">/* <i>apply my fix function to s and print it</i> */</font>       <font color="purple">printf</font>(s);<br>   }<br></pre><!----><a name="Preprocessor_Macros"></a><font size="+2"><b>Preprocessor Macros</b></font>&nbsp;&nbsp;<font size="1"><a href="#PM_Index">Index</a></font><p>Preprocessor macros are defined by using the <font face="Courier" color="blue">#define</font> preprocessor directive at the startof a line. A macro is local to the file in which it is defined. Thefollowing example shows how to define preprocessor macros.</p><pre>  <font color="blue">#define</font> RIGHT_MOTOR 0<br>  <font color="blue">#define</font> LEFT_MOTOR  1<br>  <font color="blue">#define</font> GO_RIGHT(power) (<font color="purple">motor</font>(RIGHT_MOTOR,(power)))<br>  <font color="blue">#define</font> GO_LEFT(power)  (<font color="purple">motor</font>(LEFT_MOTOR,(power)))<br>  <font color="blue">#define</font> GO(left,right) {GO_LEFT(left); GO_RIGHT(right);}<br>  <font color="blue">void</font> main()<br>  {<br>      GO(0,0);<br>  }<br></pre>Preprocessor macro definitions start with the <font face="Courier" color="blue">#define</font> directive at the start of a line, andcontinue to the end of the line. After <font face="Courier" color="blue">#define</font> is the name of the macro, such as<b>RIGHT_MOTOR</b>. If there is a parenthesis directly after the nameof the macro, such as the<b>GO_RIGHT</b> macro has above, then the macro has arguments. The <b>GO_RIGHT</b>and<b>GO_LEFT</b> macros each take one argument. The GO macro takes twoarguments. After thename and the optional argument list is the body of the macro.<p>Each time a macro is invoked, it is replaced with its body. If themacro has arguments,then each place the argument appears in the body is replaced with theactual argumentprovided.</p><p>Invocations of macros without arguments look like global variablereferences.Invocations of macros with arguments look like calls to functions. Toan extent, this ishow they act. However, macro replacement happens before compilation,whereas globalreferences and function calls happen at run time. Also, function callsevaluate theirarguments before they are called, whereas macros simply perform textreplacement. Forexample, if the actual argument given to a macro contains a functioncall, and the macroinstantiates its argument more than once in its body, then the functionwould be calledmultiple times, whereas it would only be called once if it were beingpassed as a functionargument instead.</p><p>Appropriate use of macros can make KISS-C programs and easier to read.It allows constantsto be given symbolic names without requiring storage and access time asa global would.It also allows macros with arguments to be used in cases when afunction call is desirablefor abstraction, without the performance penalty of calling a function.</p><p><!----><a name="Conditional_compilation"></a><font size="+2"><b>Conditionalcompilation</b></font> &nbsp;&nbsp;<font size="1"><a href="#PM_Index">Index</a></font></p><p>It is sometimes desirable to conditionally compile code. The primaryexample of this isthat you may want to perform debugging output sometimes, and disable itat other times.The KISS-C preprocessor provides a convenient way of doing this by usingthe <font face="Courier" color="blue">#ifdef</font>directive.</p><pre>   <font color="blue">void</font> go_left(<font color="blue">int</font> power)<br>   {<br>       GO_LEFT(power);<br>   <font color="blue">#ifdef</font> DEBUG<br>       <font color="purple">printf</font>(<font color="red">"Going Left\n"</font>);<br>       <font color="purple">beep</font>();<br>   <font color="blue">#endif</font>   }</pre>In this example, when the macro <b>DEBUG</b> is defined, the debuggingmessage "Going Left"will be printed and the board will beep each time <b>go_left</b> iscalled. If the macro is notdefined, the message and beep will not happen. Each <font face="Courier" color="blue">#ifdef</font> must be follwed by an<font face="Courier" color="blue">#endif</font> at the end of the codewhich is being conditionally compiled. The macro to bechecked can be anything, and <font face="Courier" color="blue">#ifdef</font>blocks may be nested.<p>Unlike regular C preprocessors, macros cannot be conditionallydefined. If a macrodefinition occurs inside an <font face="Courier" color="blue">#ifdef</font>block, it will be defined regardless of whether the<font face="Courier" color="blue">#ifdef</font> evaluates to true orfalse. The compiler will generate a warning if macrodefinitions occur within an <font face="Courier" color="blue">#ifdef</font>block.</p><p>The <font face="Courier" color="blue">#if</font>, <font face="Courier" color="blue">#else</font>, and <font face="Courier" color="blue">#elif</font> directives are also available, but areoutside the scope ofthis document. Refer to a C reference manual for how to use them.</p><p><!----><a name="The_CBC_Library_File"></a><font size="+3"><b>The CBC Library File</b></font>&nbsp;&nbsp;<font size="1"><a href="#PM_Index">Index</a></font></p><p>Library files provide standard C functions for interfacing withhardware on the robotcontroller board. These functions are written either in C or asassembly language drivers.Library files provide functions to do things like control motors, maketones, and inputsensors values.</p><p>KISS-C automatically loads the library file every time it is invoked.</p><p>For convenience, a description of some of the more commonly usedlibrary functions follows.</p><p><!----><a name="Commonly_Used_CBC_Library_Functions"></a><font size="+2"><b>CommonlyUsed CBC Library Functions</b></font> &nbsp;&nbsp;<font size="1"><a href="#PM_Index">Index</a></font></p><p></p><pre><a name="digitalx"></a><font color="darkblue">digital</font>(&lt;<font face="Times"><i>port#</i></font>&gt);<br>  <font color="darkgreen">/* <i>returns 0 if the switch attached to the port is open and<br>     returns 1 if the switch is closed.  Digital ports are numbered<br>     0-7.  Typically used for bumpers or limit switches.</i> */</font><a name="analogx"></a><font color="darkblue">analog</font>(&lt;<font face="Times"><i>port#</i></font>&gt);<br>  <font color="darkgreen">/* <i>returns the analog value of the port (a value in the range 0-255).<br>     Analog ports are numbered 8-15. Light sensors and range sensors are <br>     examples of sensors you would use in analog ports.</i> */</font><a name="sleepx"></a><font color="darkblue">sleep</font>(&lt;<font face="Times"><i>float_secs</i></font>&gt;);<br>  <font color="darkgreen">/* <i>waits specified number of seconds</i> */</font><a name="beepx"></a><font color="darkblue">beep</font>();<br>  <font color="darkgreen">/* <i>causes a beep sound</i> */</font><a name="tonex"></a><font color="darkblue">tone</font>(&lt;<font face="Times"><i>int_frequency</i></font>&gt;, &lt;<font face="Times"><i>int_secs</i></font>&gt;)<br>  <font color="darkgreen">/* <i>plays at specified frequency for specified time (seconds)</i> */</font><a name="printfx"></a><font color="darkblue">printf</font>(&lt;<font face="Times"><i>string</i></font>&gt;, &lt;<font face="Times"><i>arg1</i></font>&gt;, &lt;<font face="Times"><i>arg2</i></font>&gt;, ... );<br>  <font color="darkgreen">/* <i>prints &lt;<i>string</i>&gt;.  If the string contains % codes then the &lt;<i>args</i>&gt;<br>     after the string will be printed in place of the % codes in the<br>     format specified by the code. %d prints a decimal number. %f<br>     prints a floating point number. %c prints a character, %b prints<br>     an integer in binary, %x prints an integer in hexadecimal.</i> */</font><a name="motorx"></a><font color="darkblue">motor</font>(&lt;<i>motor_#</i>&gt;, &lt;<i>speed</i>&gt;)<br>  <font color="darkgreen">/* <i>controls the motors. &lt;<i>motor_#</i>&gt; is an integer between 0 and 3.<br>     &lt;<i>speed</i>&gt; is an integer between -100 and 100 where 0<br>     means the motor is off and negative numbers run the motor in the<br>     reverse direction</i> */</font><a name="fdx"></a><font color="darkblue">fd</font>(&lt;<i>motor_#</i>&gt;);<br>  <font color="darkgreen">/* <i>turns on the motor specified (direction is determined by plug<br>     orientation</i> */</font><a name="bkx"></a><font color="darkblue">bk</font>(&lt;<i>motor_#</i>&gt;);<br>  <font color="darkgreen">/* <i>turns on the motor specified in the opposite direction from fd</i> */</font><a name="offx"></a><font color="darkblue">off</font>(&lt;<i>motor_#</i>&gt;);<br>  <font color="darkgreen">/* <i>turns off the motor specified</i> */</font><a name="aox"></a><font color="darkblue">ao</font>();<br>  <font color="darkgreen">/* <i>turns all motor ports off</i> */</font></port></port></pre><!----><a name="Processes"></a><font size="+2"><b>Processes</b></font>&nbsp;&nbsp;<font size="1"><a href="#PM_Index">Index</a></font><p>Processes work in parallel. Each process, once it is started, willcontinue until it finishesor until it is killed by another process using the<nobr><font face="Courier"><font color="purple">kill_process</font>(&lt;</font><i>process_id</i><font face="Courier">)&gt;);</font></nobr>statement. Each process that is active gets a small amount of time.Then the process ispaused temporarily and the next process gets its share of time. Thiscontinues until allthe active process have gotten a slice of time, then it all repeatsagain. From the user'sstandpoint it appears that all the active processes are running inparallel.</p><p>Processes can communicate with one another by reading and modifyingglobal variables.The globals can be used as semaphores so that one process can signalanother. ProcessIDs may also be stored in globals so that one process can kill anotherwhen needed.</p><p>The library functions for controlling processes are:</p><pre><a name="start_processx"></a><font color="darkblue">start_process</font>(&lt;<font face="Times"><i>function_name</i></font>&gt;);<br>  <font color="darkgreen">/* <i>start_process returns an integer that is the &lt;process_id&gt;<br>     and starts the function &lt;function_name&gt; as a separate<br>     process</i> */</font><a name="deferx"></a><font color="darkblue">defer</font>();<br>  <font color="darkgreen">/* <i>when placed in a function that is used as a process this<br>     will cause that process to give up the remainder of its time<br>     slice whenever defer is called</i> */</font><a name="kill_processx"></a><font color="darkblue">kill_process</font>(&lt;<font face="Times"><i>process_id</i></font>&gt;);<br>  <font color="darkgreen">/* <i>this will terminate the process specified by the<br>     &lt;process_id&gt;</i> */</font></pre><!----><a name="sensors"></a><br><br><font size="6"></font><p align="center"><font size="6"><b>Sensors</b><br><font size="2"></font></font></p><table border="1" cellpadding="5" cellspacing="0">  <tbody>    <tr>      <td align="center" valign="center"><font face="Times"> <a href="#light_sensor"> <br>      <img border="0" src="image002.gif"><br>      <br>      <br>      <b>Light Sensor</b><br>      </a> (analog)</font> </td>      <td align="center" valign="center"><font face="Times"> <a href="#top_hat_sensor"> <img border="0" src="image003.gif"><br>      <b>Infrared "Top Hat" Reflectance Sensor</b><br>      </a> (analog)</font> </td>      <td align="center" valign="center"><font face="Times"> <a href="#et_sensor"> <img border="0" src="image004.gif"><br>      <b> Infrared "E.T." Distance Sensor</b><br>      </a> (high-impedance analog)</font> </td>    </tr>    <tr>      <td align="center" valign="center" colspan="2"><font face="Times">      <a href="#touch_sensors"> <img border="0" src="image005.gif"><br>      <b>Touch Sensors</b><br>      </a> (digital)</font> </td>      <td align="center" valign="center"><font face="Times"> <a href="#break_beam_sensor"> <img border="0" src="image006.gif"><br>      <b> Infrared "Break Beam" Sensor</b><br>      </a> (digital)</font> </td>    </tr>    <tr>      <td align="center" valign="center"><font face="Times"> <a href="#sonar_sensor"> <img border="0" src="SONAR.jpg"><br>      <b>Sonar<br>(Ultrasonic Rangefinder)</b> </a> </font></td>      <td>&nbsp;</td>    </tr>  </tbody></table><font size="6"><font size="2"><br><br><br><br></font></font><p><!------------------------------><font size="6"><font size="2"><font size="5"><b>Light Sensor </b>(analog)<a name="light_sensor"></a><font size="3"><br><br><img border="0" src="image002.gif"><br></font></font></font></font></p><ul>  <font size="6"><font size="2"><font size="5"><font size="3"> <li>Analogsensor</li>  <li>Connect to ports 8-12</li>  <li>Access with function <font face="Courier"><font color="purple"><a href="#analog">analog</a></font>(&lt;<i>port#</i>&gt;)</font> </li>  <li>Low values indicate bright light</li>  <li>High values indicate low light</li>  <li>Sensor is somewhat directional and can be made more so usingblack paper or tape or an opaque straw or lego to shade extraneouslight.&nbsp; Sensor can be attenuated by placing paper in front.</li>  </font></font></font></font></ul><font size="6"><font size="2"><font size="5"><font size="3"><br><br><br><br></font></font></font></font><p><!------------------------------><font size="6"><font size="2"><font size="5"><font size="3"><font size="5"><!--a name="top_hat_sensor"></a--><b>Infrared "Top Hat" Reflectance</b> <b>Sensor</b> (analog)<a name="top_hat_sensor"></a><font size="3"><br><br><img border="0" src="image003.gif"><br></font></font></font></font></font></font></p><ul>  <font size="6"><font size="2"><font size="5"><font size="3"><font size="5"><font size="3"> <li>Analog sensor</li>  <li>Connect to ports 8-12</li>  <li>Access with function <font face="Courier"><font color="purple"><a href="#analog">analog</a></font>(&lt;<i>port#</i>&gt;)</font> </li>  <li>Low values indicate bright light, light color, or close proximity</li>  <li>High values indicate low light, dark color, or distance ofseveral inches</li>  <li>Sensor has a reflectance range of about 3 inches</li>  </font></font></font></font></font></font></ul><font size="6"><font size="2"><font size="5"><font size="3"><font size="5"><font size="3"><br><br><br><br></font></font></font></font></font></font><p><!------------------------------><font size="6"><font size="2"><font size="5"><font size="3"><font size="5"><font size="3"><font size="5"><a name="et_sensor"></a><b>Infrared "E.T." Distance Sensor </b>(high-impedance analog)<font size="3"><br><br><img border="0" src="image004.gif"><br></font></font></font></font></font></font></font></font></p><ul>  <font size="6"><font size="2"><font size="5"><font size="3"><font size="5"><font size="3"><font size="5"><font size="3"> <li>Floatinganalog sensor</li>  <li>Connect to port 13-15</li>  <li>Access with function <font face="Courier"><font color="purple"><a href="#analog">analog</a></font>(&lt;<i>port#</i>&gt;)</font> </li>  <li>Low values indicate large distance</li>  <li>High values indicate distance approaching ~4 inches</li>  <li>Range is 4-30 inches.&nbsp; Result is approximately 1/(d)^2. Objectscloser than 4 inches will appear to be far away.</li>  <li>Sharp Electronics part number GP2D12</li>  <li>Sensor shines a narrow infrared beam, and measures the angle ofthe beam return using a&nbsp; position-sensitive detector (PSD):</li>  <img border="0" src="image009.gif"></font></font></font></font></font></font></font></font></ul><font size="6"><font size="2"><font size="5"><font size="3"><font size="5"><font size="3"><font size="5"><font size="3"><br><br><br><br></font></font></font></font></font></font></font></font><p><!------------------------------><font size="6"><font size="2"><font size="5"><font size="3"><font size="5"><font size="3"><font size="5"><font size="3"><font size="5"><a name="touch_sensors"></a><b>Touch Sensors </b>(digital)<font size="3"><br><br><img border="0" src="image005.gif"><br></font></font></font></font></font></font></font></font></font></font></p><ul>  <font size="6"><font size="2"><font size="5"><font size="3"><font size="5"><font size="3"><font size="5"><font size="3"><font size="5"><font size="3"> <li>Digital sensors</li>  <li>Connect to ports 0-7</li>  <li>Access with function <font face="Courier"><font color="purple"><a href="#digital">digital</a></font>(&lt;<i>port#</i>&gt;)</font> </li>  <li>1 indicates switch is closed</li>  <li>0 indicates switch is open</li>  <li>These make good bumpers and can be used for limit switches on anactuator</li>  </font></font></font></font></font></font></font></font></font></font></ul><font size="6"><font size="2"><font size="5"><font size="3"><font size="5"><font size="3"><font size="5"><font size="3"><font size="5"><font size="3"><br><br><br><br></font></font></font></font></font></font></font></font></font></font><p><!------------------------------><font size="6"><font size="2"><font size="5"><font size="3"><font size="5"><font size="3"><font size="5"><font size="3"><font size="5"><font size="3"><font size="5"><a name="break_beam_sensor"></a><b>Infrared "Break Beam" Sensor </b>(digital)<font size="3"><br><br><img border="0" src="image010.gif"><br></font></font></font></font></font></font></font></font></font></font></font></font></p><ul>  <font size="6"><font size="2"><font size="5"><font size="3"><font size="5"><font size="3"><font size="5"><font size="3"><font size="5"><font size="3"><font size="5"><font size="3"> <li>Digital sensor</li>  <li>Connect to ports 0-7</li>  <li>Access with function <font face="Courier"><font color="purple"><a href="#digital">digital</a></font>(&lt;<i>port#</i>&gt;)</font> </li>  <li>1 indicates slot is empty</li>  <li>0 indicates slot is blocked</li>  <li>These can be used much like touch sensors (if the object beingtouched fits in the slot)</li>  <li>Special abilities when used as encoders -   This can be useful for the slot sensor in conjunctionwith a wheel, which allows measuring rotational rate and total angle.</li>  </font></font></font></font></font></font></font></font></font></font></font></font></ul><font size="6"><font size="2"><font size="5"><font size="3"><font size="5"><font size="3"><font size="5"><font size="3"><font size="5"><font size="3"><font size="5"><font size="3"><font size="4"><font size="3"><font size="4"><font size="3"><br><br><br></font></font></font></font></font></font></font></font></font></font></font></font></font></font></font></font><p><!------------------------------><font size="6"><font size="2"><font size="5"><font size="3"><font size="5"><font size="3"><font size="5"><font size="3"><font size="5"><font size="3"><font size="5"><font size="3"><font size="4"><font size="3"><font size="4"><font size="3"><font size="5"><a name="sonar_sensor"></a><b>Sonar (Ultrasonic Rangefinder)</b><font size="3"><br><br><img border="0" src="SONAR.jpg"><br></font></font></font></font></font></font></font></font></font></font></font></font></font></font></font></font></font></font></p><ul>  <font size="6"><font size="2"><font size="5"><font size="3"><font size="5"><font size="3"><font size="5"><font size="3"><font size="5"><font size="3"><font size="5"><font size="3"><font size="4"><font size="3"><font size="4"><font size="3"><font size="5"><font size="3"> <li>Timedanalog sensor.&nbsp; Sends a "ping" of high-pitched sound and listensfor an echo</li>  <li>Connect to ports 13-15</li>  <li>Access with function <font face="Courier"><font color="purple"><a href="#sonar">sonar</a></font>()</font> </li>  <li>Returned value is distance in mm to closest object in field ofview</li>  <li>Range is approximately 150-2000+mm</li>  <li>Speed of sound is ~300mm/ms</li>  <li>sonar() times the echo, divides by two and multiplies by speed ofsound</li>  <li>The sonar field of view is an approximately 30 degree teardrop:</li>  <br>  <br>  <img border="0" src="image012.gif"></font></font></font></font></font></font></font></font></font></font></font></font></font></font></font></font></font></font>  <p></p></ul><font size="6"><font size="2"><font size="5"><font size="3"><font size="5"><font size="3"><font size="5"><font size="3"><font size="5"><font size="3"><font size="5"><font size="3"><font size="4"><font size="3"><font size="4"><font size="3"><font size="5"><font size="3"><br><br><br><br></font></font></font></font></font></font></font></font></font></font></font></font></font></font></font></font></font></font><p><font size="6"><font size="2"><font size="5"><font size="3"><font size="5"><font size="3"><font size="5"><font size="3"><font size="5"><font size="3"><font size="5"><font size="3"><font size="4"><font size="3"><font size="4"><font size="3"><font size="5"><font size="3"><a name="Functions"></a><font size="+4"><b>CBC Library Function Descriptions</b></font><br></font></font></font></font></font></font></font></font></font></font></font></font></font></font></font></font></font></font></p><p><font size="6"><font size="2"><font size="5"><font size="3"><font size="5"><font size="3"><font size="5"><font size="3"><font size="5"><font size="3"><font size="5"><font size="3"><font size="4"><font size="3"><font size="4"><font size="3"><font size="5"><font size="3">(alphabeticorder) <br><table cellspacing="5">  <tbody>    <tr>      <td valign="top"><a name="a_button"></a> </td>      <td><font face="Times"><font face="Courier" color="purple">a_button</font>&nbsp;&nbsp;&nbsp;[Category: Sensors] &nbsp;&nbsp;<br>      </font>      <dl>        <dd><font face="Times"><font face="Times">Format: <font face="Courier"> <font color="blue">int</font> <font color="purple">a_button</font>()</font><br>Reads the value (0 or 1) of the A button.</font></font></dd>      </dl>      </td>    </tr>    <tr>      <td valign="top"><a name="alloff"></a> </td>      <td><font face="Times"><font face="Courier" color="purple">alloff</font>&nbsp;&nbsp;&nbsp;[Category: Motors] &nbsp;&nbsp;<br>      </font>      <dl>        <dd><font face="Times"><font face="Times">Format: <font face="Courier"> <font color="blue">void</font> <font color="purple">alloff</font>()</font><br>Turns off all motors. <font face="Courier" color="purple">ao</font> isa short form for <font face="Courier" color="purple">alloff</font>.</font></font></dd>      </dl>      </td>    </tr>    <tr>      <td valign="top"><a name="analog"></a> </td>      <td><font face="Times"><font face="Courier" color="purple">analog</font>&nbsp;&nbsp;&nbsp;[Category: Sensors] &nbsp;&nbsp;<br>      </font>      <dl>        <dd><font face="Times"><font face="Times">Format: <font face="Courier"> <font color="blue">int</font> <font color="purple">analog</font>(<font color="blue">int</font> p)</font><br>Returns the value of the sensor installed at the port numbered p. Theresult is an integer between 0 and 255. The function can be used withanalog ports 8 through 15. Ports 13 through 15 arefloating (used for sensors such as an optical range finder). Since ports 13-15 arefloating, the value cannot be predicted without a sensor inserted. </font></font></dd>      </dl>      </td>    </tr>    <tr>      <td valign="top"><a name="analog10"></a> </td>      <td><font face="Times"><font face="Courier" color="purple">analog10</font>&nbsp;&nbsp;&nbsp;[Category: Sensors] &nbsp;&nbsp;<br>      </font>      <dl>        <dd><font face="Times"><font face="Times">Format: <font face="Courier"> <font color="blue">int</font> <font color="purple">analog10</font>(<font color="blue">int</font> p)</font><br>10-bit version of the <font face="Courier" color="purple">analog</font>function. The returned value is in the range 0 to 1023 rather than 0 to255.</font></font></dd>      </dl>      </td>    </tr>    <tr>      <td valign="top"><a name="ao"></a> </td>      <td><font face="Times"><font face="Courier" color="purple">ao</font>&nbsp;&nbsp;&nbsp;[Category: Motors] &nbsp;&nbsp;<br>      </font>      <dl>        <dd><font face="Times"><font face="Times">Format: <font face="Courier"> <font color="blue">void</font> <font color="purple">ao</font>()</font><br>Turns off all motors.</font></font></dd>      </dl>      </td>    </tr>    <tr>      <td valign="top"><a name="atan"></a> </td>      <td><font face="Times"><font face="Courier" color="purple">atan</font>&nbsp;&nbsp;&nbsp;[Category: Math] &nbsp;&nbsp;<br>      </font>      <dl>        <dd><font face="Times"><font face="Times">Format: <font face="Courier"> <font color="blue">float</font> <font color="purple">atan</font>(<font color="blue">float</font> angle)</font><br>Returns the arc tangent of the angle. Angle is specified in radians;the result is in radians.</font></font></dd>      </dl>      </td>    </tr>    <tr>      <td valign="top"><a name="b_button"></a> </td>      <td><font face="Times"><font face="Courier" color="purple">b_button</font>&nbsp;&nbsp;&nbsp;[Category: Sensors] &nbsp;&nbsp;<br>      </font>      <dl>        <dd><font face="Times"><font face="Times">Format: <font face="Courier"> <font color="blue">int</font> <font color="purple">b_button</font>()</font><br>Reads the value (0 or 1) of the B button.</font></font></dd>      </dl>      </td>    </tr>    <tr>      <td valign="top"><a name="beep"></a> </td>      <td><font face="Times"><font face="Courier" color="purple">beep</font>&nbsp;&nbsp;&nbsp;[Category: Sound] &nbsp;&nbsp;<br>      </font>      <dl>        <dd><font face="Times"><font face="Times">Format: <font face="Courier"> <font color="blue">void</font> <font color="purple">beep</font>()</font><br>Produces a tone. Returns whenthe tone is finished.</font></font></dd>      </dl>      </td>    </tr>    <tr>      <td valign="top"><a name="bk"></a> </td>      <td><font face="Times"><font face="Courier" color="purple">bk</font>&nbsp;&nbsp;&nbsp;[Category: Motors] &nbsp;&nbsp;<br>      </font>      <dl>        <dd><font face="Times"><font face="Times">Format: <font face="Courier"> <font color="blue">void</font> <font color="purple">bk</font>(<font color="blue">int</font> m)</font><br>Turns motor <font face="Courier">m</font> on full speed in thebackward direction.<br>Example: <br>          <font face="Courier">&nbsp;&nbsp;&nbsp;<font color="purple">bk</font>(1);</font></font></font></dd>      </dl>      </td>    </tr>    <tr>      <td valign="top"><a name="black_button"></a> </td>      <td><font face="Times"><font face="Courier" color="purple">black_button</font>&nbsp;&nbsp;&nbsp;[Category: Sensors] &nbsp;&nbsp;<br>      </font>      <dl>        <dd><font face="Times"><font face="Times">Format: <font face="Courier"> <font color="blue">int</font> <font color="purple">black_button</font>()</font><br>Reads the value (0 or 1) of the Black button on the CBC (or a period on the simulator).</font></font></dd>      </dl>      </td>    </tr>    <tr>      <td style="vertical-align: top;"><br>      </td>      <td style="vertical-align: top;"><font size="6"><font size="2"><font size="5"><font size="3"><font size="5"><font size="3"><font size="5"><font size="3"><font size="5"><font size="3"><font size="5"><font size="3"><font size="4"><font size="3"><font size="4"><font size="3"><font size="5"><font size="3"><font face="Times"><font face="Courier" color="purple">block_motor_done</font>&nbsp; [Category: Motors] &nbsp;&nbsp;<br>      </font>      <dl>        <dd><font face="Times"><font face="Times">Format: <font face="Courier"> <font color="blue">void</font> <font color="purple">block_motor_done</font>(<font color="blue">int</font> m)</font><br>Function does not return until specified motor completes any executingspeed or position control moves.<br>Example: <br>          <font face="Courier">&nbsp;&nbsp; <font color="purple">mrp<span style="color: rgb(0, 0, 0);">(0,500,20000L);</span><br>&nbsp;&nbsp; block_motor_done</font>(1);</font></font></font></dd>      </dl>      </font></font></font></font></font></font></font></font></font></font></font></font></font></font></font></font></font></font></td>    </tr>    <tr>      <td style="vertical-align: top;"><br>      </td>      <td style="vertical-align: top;"><font size="6"><font size="2"><font size="5"><font size="3"><font size="5"><font size="3"><font size="5"><font size="3"><font size="5"><font size="3"><font size="5"><font size="3"><font size="4"><font size="3"><font size="4"><font size="3"><font size="5"><font size="3"><font size="6"><font size="2"><font size="5"><font size="3"><font size="5"><font size="3"><font size="5"><font size="3"><font size="5"><font size="3"><font size="5"><font size="3"><font size="4"><font size="3"><font size="4"><font size="3"><font size="5"><font size="3"><font face="Times"><font face="Courier" color="purple">bmd</font> &nbsp;[Category: Motors] &nbsp;&nbsp;<br>      </font>      <dl>        <dd><font face="Times"><font face="Times">Format: <font face="Courier"> <font color="blue">void</font> <font color="purple">bmd</font>(<font color="blue">int</font> m)</font><br>Function does not return until specified motor completes any executingspeed or position control moves.<br>Example: <br>          <font face="Courier">&nbsp;&nbsp; <font color="purple">mrp<span style="color: rgb(0, 0, 0);">(0,500,20000L);</span><br>&nbsp;&nbsp; bmd</font>(1);</font></font></font></dd>      </dl>      </font></font></font></font></font></font></font></font></font></font></font></font></font></font></font></font></font></font></font></font></font></font></font></font></font></font></font></font></font></font></font></font></font></font></font></font></td>    </tr>    <tr>      <td valign="top"><a name="cbc_display_clear"></a> </td>      <td><font face="Times"><font face="Courier" color="purple">cbc_display_clear</font>&nbsp;&nbsp;&nbsp;[Category: Output] &nbsp;&nbsp;<br>      </font>      <dl>        <dd><font face="Times"><font face="Times">Format: <font face="Courier"> <font color="blue">void</font> <font color="purple">cbc_display_clear</font>()</font><br>Clear the CBC display.</font></font></dd>      </dl>      </td>    </tr>    <tr>      <td valign="top"><a name="cbc_printf"></a> </td>      <td><font face="Times"><font face="Courier" color="purple">cbc_printf</font>&nbsp;&nbsp;&nbsp;[Category: Output] &nbsp;&nbsp;<br>      </font>      <dl>        <dd><font face="Times"><font face="Times">Format: <font face="Courier"> <font color="blue">void</font> <font color="purple">cbc_printf</font>(<font color="blue">int</font> col, <font color="blue">int</font> row, <font color="blue">char</font> s[], . . .)</font><br>Perform a standard printf starting at screen location col, row.</font></font></dd>      </dl>      </td>    </tr>    <tr>      <td valign="top"><a name="clear_motor_position_counter"></a> </td>      <td><font face="Times"><font face="Courier" color="purple">clear_motor_position_counter</font>&nbsp;&nbsp;&nbsp;[Category: Motors] &nbsp;&nbsp;<br>      </font>      <dl>        <dd><font face="Times"><font face="Times">Format: <font face="Courier"> <font color="blue">void</font> <font color="purple">clear_motor_position_counter</font>(<font color="blue">int</font> motor_nbr)</font><br>Reset the position counter for the motor specified to 0.</font></font></dd>      </dl>      </td>    </tr>    <tr>      <td valign="top"><a name="cos"></a> </td>      <td><font face="Times"><font face="Courier" color="purple">cos</font>&nbsp;&nbsp;&nbsp;[Category: Math] &nbsp;&nbsp;<br>      </font>      <dl>        <dd><font face="Times"><font face="Times">Format: <font face="Courier"> <font color="blue">float</font> <font color="purple">cos</font>(<font color="blue">float</font> angle)</font><br>Returns cosine of angle. Angle is specified in radians; result is inradians.</font></font></dd>      </dl>      </td>    </tr>    <tr>      <td valign="top"><a name="defer"></a> </td>      <td><font face="Times"><font face="Courier" color="purple">defer</font>&nbsp;&nbsp;&nbsp;[Category: Processes] &nbsp;&nbsp;<br>      </font>      <dl>        <dd><font face="Times"><font face="Times">Format: <font face="Courier"> <font color="blue">void</font> <font color="purple">defer</font>()</font><br>Makes a process swap out immediately after the function is called.Useful if a process knows that it will not need to do any work untilthe next time around the scheduler loop. <font face="Courier"><font color="purple">defer</font>()</font> is implemented as a C built-infunction.</font></font></dd>      </dl>      </td>    </tr>    <tr>      <td valign="top"><a name="digital"></a> </td>      <td><font face="Times"><font face="Courier" color="purple">digital</font>&nbsp;&nbsp;&nbsp;[Category: Sensors] &nbsp;&nbsp;<br>      </font>      <dl>        <dd><font face="Times"><font face="Times">Format: <font face="Courier"> <font color="blue">int</font> <font color="purple">digital</font>(<font color="blue">int</font> p)</font><br>Returns the value of the sensor in sensor port p, as a true/false value(1 for true and 0 for false). Sensors are expected to be active low,meaning that they are valued at zero volts in the active, or true,state. Thus the library function returns the inverse of the actualreading from the digital hardware: if the reading is zero volts orlogic zero, the <font face="Courier"><font color="purple">digital</font>()</font>function will return true. Valid for digital ports 0-7.</font></font></dd>      </dl>      </td>    </tr>    <tr>      <td valign="top"><a name="disable_servos"></a> </td>      <td><font face="Times"><font face="Courier" color="purple">disable_servos</font>&nbsp;&nbsp;&nbsp;[Category: Motors] &nbsp;&nbsp;<br>      </font>      <dl>        <dd><font face="Times"><font face="Times">Format: <font face="Courier"> <font color="blue">void</font> <font color="purple">disable_servos</font>()</font><br>Disables the servo motor ports (powers down all servo motors).</font></font></dd>      </dl>      </td>    </tr>    <tr>      <td valign="top"><a name="down_button"></a> </td>      <td><font face="Times"><font face="Courier" color="purple">down_button</font>&nbsp;&nbsp;&nbsp;[Category: Sensors] &nbsp;&nbsp;<br>      </font>      <dl>        <dd><font face="Times"><font face="Times">Format: <font face="Courier"> <font color="blue">int</font> <font color="purple">down_button</font>()</font><br>Reads the value (0 or 1) of the move down button.</font></font></dd>      </dl>      </td>    </tr>    <tr>      <td valign="top"><a name="enable_servos"></a> </td>      <td><font face="Times"><font face="Courier" color="purple">enable_servos</font>&nbsp;&nbsp;&nbsp;[Category: Sensors] &nbsp;&nbsp;<br>      </font>      <dl>        <dd><font face="Times"><font face="Times">Format: <font face="Courier"> <font color="blue">void</font> <font color="purple">enable_servos</font>()</font><br>Enables all servo motor ports.</font></font></dd>      </dl>      </td>    </tr>    <tr>      <td valign="top"><a name="exp10"></a> </td>      <td><font face="Times"><font face="Courier" color="purple">exp10</font>&nbsp;&nbsp;&nbsp;[Category: Math] &nbsp;&nbsp;<br>      </font>      <dl>        <dd><font face="Times"><font face="Times">Format: <font face="Courier"> <font color="blue">float</font> <font color="purple">exp10</font>(<font color="blue">float</font> num)</font><br>Returns 10 to the num power.</font></font></dd>      </dl>      </td>    </tr>    <tr>      <td valign="top"><a name="exp"></a> </td>      <td><font face="Times"><font face="Courier" color="purple">exp</font>&nbsp;&nbsp;&nbsp;[Category: Math] &nbsp;&nbsp;<br>      </font>      <dl>        <dd><font face="Times"><font face="Times">Format: <font face="Courier"> <font color="blue">float</font> <font color="purple">exp</font>(<font color="blue">float</font> num)</font><br>Returns e to the num power.</font></font></dd>      </dl>      </td>    </tr>    <tr>      <td valign="top"><a name="fd"></a> </td>      <td><font face="Times"><font face="Courier" color="purple">fd</font>&nbsp;&nbsp;&nbsp;[Category: Motors] &nbsp;&nbsp;<br>      </font>      <dl>        <dd><font face="Times"><font face="Times">Format: <font face="Courier"> <font color="blue">void</font> <font color="purple">fd</font>(<font color="blue">int</font> m)</font><br>Turns motor m on full in the forward direction.<br>Example:<br>          <font face="Courier">&nbsp;&nbsp;&nbsp;<font color="purple">fd</font>(3);</font></font></font></dd>      </dl>      </td>    </tr><!--<tr><td valign=top><a name="forward"></a>		</td>    <td><font face="Times"><font face="Courier" color=purple>forward</font> &nbsp;&nbsp;&nbsp;[Category: Motors] &nbsp;&nbsp;<br>		<dl><dd><font face="Times">Format: <font face="Courier"> <font color=blue>void</font> <font color=purple>forward</font>()</font><br>		Runs all motor ports in the foward direction.</font></td></tr>-->    <tr>      <td valign="top"><a name="freeze"></a> </td>      <td><font face="Times"><font face="Courier" color="purple">freeze</font>&nbsp;&nbsp;&nbsp;[Category: Motors] &nbsp;&nbsp;<br>      </font>      <dl>        <dd><font face="Times"><font face="Times">Format: <font face="Courier"> <font color="blue">void</font> <font color="purple">freeze</font>(<font color="blue">int</font> m)</font><br>Freezes motor m (prevents continued motor rotation, in contrast to <font face="Courier" color="purple">off</font>, which allows the motor to"coast").<br>          </font></font></dd>      </dl>      </td>    <tr>      <td valign="top"><a name="get_motor_done"></a> </td>      <td><font face="Times"><font face="Courier" color="purple">get_motor_done</font>&nbsp;&nbsp;&nbsp;[Category: Motors] &nbsp;&nbsp;<br>      </font>      <dl>        <dd><font face="Times"><font face="Times">Format: <font face="Courier"> <font color="blue">int</font> <font color="purple">get_motor_done</font>(<font color="blue">int</font> m)</font><br>Returns whether the motor has finished a move with specified position.</font></font></dd>      </dl>      </td>    </tr>    <tr>      <td valign="top"><a name="get_motor_position_counter"></a> </td>      <td><font face="Times"><font face="Courier" color="purple">get_motor_position_counter</font>&nbsp;&nbsp;&nbsp;[Category: Motors] &nbsp;&nbsp;<br>      </font>      <dl>        <dd><font face="Times"><font face="Times">Format: <font face="Courier"><font color="blue">int</font> <font color="purple">get_motor_position_counter</font>(<font color="blue">int</font> m)</font><br>Returns the current motor position value for motor <font face="Courier">m</font>(a value which is continually being updated for each motor using backEMF; a typical discrimination for a given motor is on the order of 1100position "ticks" per rotation)</font></font></dd>      </dl>      </td>    </tr>    <tr>      <td valign="top"><a name="get_servo_position"></a> </td>      <td><font face="Times"><font face="Courier" color="purple">get_servo_position</font>&nbsp;&nbsp;&nbsp;[Category: Motors] &nbsp;&nbsp;<br>      </font>      <dl>        <dd><font face="Times"><font face="Times">Format: <font face="Courier"> <font color="blue">int</font> <font color="purple">get_servo_position</font>(<font color="blue">int</font> srv)</font><br>Returns the position value of the servo in port <font face="Courier">srv</font>.The value is in the range 0 to 2047. There are 4 servo ports (1, 2,3, 4).</font></font></dd>      </dl>      </td>    </tr>    <tr>      <td valign="top"><a name="kill_process"></a> </td>      <td><font face="Times"><font face="Courier" color="purple">kill_process</font>&nbsp;&nbsp;&nbsp;[Category: Processes] &nbsp;&nbsp;<br>      </font>      <dl>        <dd><font face="Times"><font face="Times">Format: <font face="Courier"> <font color="blue">void</font> <font color="purple">kill_process</font>(<font color="blue">int</font> pid);</font><br>The <font face="Courier" color="purple">kill_process</font> functionis used to destroy processes. Processes are destroyed by passing theirprocess ID number to <font face="Courier" color="purple">kill_process</font>.If the return value is 0, then the process was destroyed. If the returnvalue is 1, then the process was not found. The following code showsthe main process creating a <font face="Courier">check_sensor</font>process, and then destroying it one second later:          <pre>    <font color="blue">int</font> main() {<br>        <font color="blue">int</font> pid;<br>        pid=<font color="purple">start_process</font>(check_sensor);<br>        <font color="purple">sleep</font>(1.0);<br>        <font color="purple">kill_process</font>(pid);<br>    }</pre>          </font></font></dd>      </dl>      </td>    </tr>    <tr>      <td valign="top"><a name="kissSim_init"></a> </td>      <td><font face="Times"><font face="Courier" color="purple">kissSim_init</font>&nbsp;&nbsp;&nbsp;[Category: Simulator] &nbsp;&nbsp;<br>      </font>      <dl>        <dd><font face="Times"><font face="Times">Format: <font face="Courier"> <font color="blue">void</font> <font color="purple">kissSim_init</font>( <font color="blue">int</font> world, <font color="blue">int</font> x,<font color="blue">int</font> y,<font color="blue">int</font> theta)</font><br>Initiates the graphics CBC/Create simulator with the robot in the specified <font face="Courier">world</font>, at the initial <font face="Courier">x</font> and <font face="Courier">y</font> position and at a heading of <font face="Courier">theta</font> radians.</font></font></dd>      </dl>      </td>    </tr>    <tr>      <td valign="top"><a name="kissSimEnablePause"></a> </td>      <td><font face="Times"><font face="Courier" color="purple">kissSimEnablePause</font>&nbsp;&nbsp;&nbsp;[Category: Simulator] &nbsp;&nbsp;<br>      </font>      <dl>        <dd><font face="Times"><font face="Times">Format: <font face="Courier"> <font color="blue">void</font> <font color="purple">kissSimEnablePause</font>()</font><br>Will pause the simulation if the space bar is pressed when this is called.</font></font></dd>      </dl>      </td>    </tr>    <tr>      <td valign="top"><a name="kissSimPause"></a> </td>      <td><font face="Times"><font face="Courier" color="purple">kissSimPause</font>&nbsp;&nbsp;&nbsp;[Category: Simulator] &nbsp;&nbsp;<br>      </font>      <dl>        <dd><font face="Times"><font face="Times">Format: <font face="Courier"> <font color="blue">void</font> <font color="purple">kissSimPause</font>()</font><br>Will pause the simulation when this is called. Press the space bar to resume.</font></font></dd>      </dl>      </td>    </tr>    <tr>      <td valign="top"><a name="left_button"></a> </td>      <td><font face="Times"><font face="Courier" color="purple">left_button</font>&nbsp;&nbsp;&nbsp;[Category: Sensors] &nbsp;&nbsp;<br>      </font>      <dl>        <dd><font face="Times"><font face="Times">Format: <font face="Courier"> <font color="blue">int</font> <font color="purple">left_button</font>()</font><br>Reads the value (0 or 1) of the move left button.</font></font></dd>      </dl>      </td>    </tr>    <tr>      <td valign="top"><a name="log10"></a> </td>      <td><font face="Times"><font face="Courier" color="purple">log10</font>&nbsp;&nbsp;&nbsp;[Category: Math] &nbsp;&nbsp;<br>      </font>      <dl>        <dd><font face="Times"><font face="Times">Format: <font face="Courier"> <font color="blue">float</font> <font color="purple">log10</font>(<font color="blue">float</font> num)</font><br>Returns the logarithm of <font face="Courier">num</font> to the base10.</font></font></dd>      </dl>      </td>    </tr>    <tr>      <td valign="top"><a name="log"></a> </td>      <td><font face="Times"><font face="Courier" color="purple">log</font>&nbsp;&nbsp;&nbsp;[Category: Math] &nbsp;&nbsp;<br>      </font>      <dl>        <dd><font face="Times"><font face="Times">Format: <font face="Courier"> <font color="blue">float</font> <font color="purple">log</font>(<font color="blue">float</font> num)</font><br>Returns the natural logarithm of <font face="Courier">num</font>.</font></font></dd>      </dl>      </td>    </tr>    <tr>      <td style="vertical-align: top;"><br>      </td>      <td style="vertical-align: top;"><font size="5"><font size="3"><font size="5"><font size="3"><font size="5"><font size="3"><font size="5"><font size="3"><font size="5"><font size="3"><font size="4"><font size="3"><font size="4"><font size="3"><font size="5"><font size="3"><font face="Times"><font face="Courier" color="purple">mav</font>&nbsp;&nbsp; [Category: Motors] &nbsp;&nbsp;<br>      </font>      <dl>        <dd><font face="Times"><font face="Times">Format: <font face="Courier"> <font color="blue">void</font> <font color="purple">mav</font>(<font color="blue">int</font> m, <font color="blue">int</font> vel)</font><br>This function is the same as move_at_velocity </font></font></dd>      </dl>      </font></font></font></font></font></font></font></font></font></font></font></font></font></font></font></font></td>    </tr>    <tr>      <td valign="top"><a name="motor"></a> </td>      <td><font face="Times"><font face="Courier" color="purple">motor</font>&nbsp;&nbsp;&nbsp;[Category: Motors] &nbsp;&nbsp;<br>      </font>      <dl>        <dd><font face="Times"><font face="Times">Format: <font face="Courier"> <font color="blue">void</font> <font color="purple">motor</font>(<font color="blue">int</font> m, <font color="blue">int</font> p)</font><br>Turns on motor <font face="Courier">m</font> at scaled PWM duty cyclepercentage&nbsp; <font face="Courier">p</font>. Power levels rangefrom 100 for full on forward to -100 for full on backward. <br>          </font></font></dd>      </dl>      </td>    </tr>    <tr>      <td valign="top"><a name="move_at_velocity"></a> </td>      <td><font face="Times"><font face="Courier" color="purple">move_at_velocity</font>&nbsp;&nbsp;&nbsp;[Category: Motors] &nbsp;&nbsp;<br>      </font>      <dl>        <dd><font face="Times"><font face="Times">Format: <font face="Courier"> <font color="blue">void</font> <font color="purple">move_at_velocity</font>(<font color="blue">int</font> m, <font color="blue">int</font> vel)</font><br>Moves motor <font face="Courier">m</font> at velocity <font face="Courier">vel</font> indefinitely. The velocity range is -1000 to1000 ticks per second. <br>          </font></font></dd>      </dl>      </td>    </tr>    <tr>      <td valign="top"><a name="move_relative_position"></a> </td>      <td><font face="Times"><font face="Courier" color="purple">move_relative_position</font>&nbsp;&nbsp;&nbsp;[Category: Motors] &nbsp;&nbsp;<br>      </font>      <dl>        <dd><font face="Times"><font face="Times">Format: <font face="Courier"> <font color="blue">void</font> <font color="purple">move_relative_position</font>(<font color="blue">int</font> m, <font color="blue">int</font> speed, <font color="blue">int</font> pos)</font><br>Moves motor <font face="Courier">m</font> at velocity <font face="Courier">vel</font> from its current position <font face="Courier">curr_pos</font> to <font face="Courier">curr_pos + pos</font>.The speed range is 0 to 1000 ticks per second. Example: <br>          <font face="Courier">&nbsp;&nbsp;&nbsp;<font color="purple">move_relative_position</font>(1,275,-1100L);</font></font></font></dd>      </dl>      </td>    </tr>    <tr>      <td valign="top"><a name="move_to_position"></a> </td>      <td><font face="Times"><font face="Courier" color="purple">move_to_position</font>&nbsp;&nbsp;&nbsp;[Category: Motors] &nbsp;&nbsp;<br>      </font>      <dl>        <dd><font face="Times"><font face="Times">Format: <font face="Courier"> <font color="blue">void</font> <font color="purple">move_to_position</font>(<font color="blue">int</font> m, <font color="blue">int</font> speed, <font color="blue">int</font> pos)</font><br>Moves motor <font face="Courier">m</font> at velocity <font face="Courier">vel</font> from its current position <font face="Courier">curr_pos</font> to <font face="Courier">pos</font>.The speed range is 0 to 1000. Note that if the motor is already at <font face="Courier">pos</font>, the motor doesn't move.</font></font></dd>      </dl>      </td>    </tr>    <tr>      <td valign="top"><a name="mrp"></a> </td>      <td><font face="Times"><font face="Courier" color="purple">mrp</font>&nbsp;&nbsp;&nbsp;[Category: Motors] &nbsp;&nbsp;<br>      </font>      <dl>        <dd><font face="Times"><font face="Times">Format: <font face="Courier"> <font color="blue">void</font> <font color="purple">mrp</font>(<font color="blue">int</font> m, <font color="blue">int</font> vel, <font color="blue">int</font> pos)</font><br>This function is the same as move_relative_position.</font></font></dd>      </dl>      </td>    </tr>    <tr>      <td style="vertical-align: top;"><br>      </td>      <td style="vertical-align: top;"><font size="6"><font size="2"><font size="5"><font size="3"><font size="5"><font size="3"><font size="5"><font size="3"><font size="5"><font size="3"><font size="5"><font size="3"><font size="4"><font size="3"><font size="4"><font size="3"><font size="5"><font size="3"><font face="Times"><font face="Courier" color="purple">mtp</font>&nbsp; [Category: Motors] &nbsp;&nbsp;<br>      </font>      <dl>        <dd><font face="Times"><font face="Times">Format: <font face="Courier"> <font color="blue">void</font> <font color="purple">mtp</font>(<font color="blue">int</font> m, <font color="blue">int</font> vel, <font color="blue">int</font> pos)</font><br>This function is the same as move_to_position.</font></font></dd>      </dl>      </font></font></font></font></font></font></font></font></font></font></font></font></font></font></font></font></font></font></td>    </tr>    <tr>      <td valign="top"><a name="msleep"></a> </td>      <td><font face="Times"><font face="Courier" color="purple">msleep</font>&nbsp;&nbsp;&nbsp;[Category: Time] &nbsp;&nbsp;<br>      </font>      <dl>        <dd><font face="Times"><font face="Times">Format: <font face="Courier"> <font color="blue">void</font> <font color="purple">msleep</font>(<font color="blue">int</font> msec)</font><br>Waits for an amount of time equal to or greater than <font face="Courier">msec</font> milliseconds. <br>Example:<br>          <font face="Courier">&nbsp;&nbsp;&nbsp;<font color="darkgreen">/*wait for 1.5 seconds */</font><font color="purple"> msleep</font>(1500);</font></font></font></dd>      </dl>      </td>    </tr>    <tr>      <td valign="top"><a name="off"></a> </td>      <td><font face="Times"><font face="Courier" color="purple">off</font>&nbsp;&nbsp;&nbsp;[Category: Motors] &nbsp;&nbsp;<br>      </font>      <dl>        <dd><font face="Times"><font face="Times">Format: <font face="Courier"> <font color="blue">void</font> <font color="purple">off</font>(<font color="blue">int</font> m)</font><br>Turns off motor <font face="Courier">m</font>. <br>Example: <br>          <font face="Courier">&nbsp;&nbsp;&nbsp;<font color="purple">off</font>(1);</font></font></font></dd>      </dl>      </td>    </tr>    <tr>      <td valign="top"><a name="power_level"></a> </td>      <td><font face="Times"><font face="Courier" color="purple">power_level</font>&nbsp;&nbsp;&nbsp;[Category: System] &nbsp;&nbsp;<br>      </font>      <dl>        <dd><font face="Times"><font face="Times">Format: <font face="Courier"> <font color="blue">float</font> <font color="purple">power_level</font>()</font><br>Returns the current power level in volts.</font></font></dd>      </dl>      </td>    </tr>    <tr>      <td valign="top"><a name="printf"></a> </td>      <td><font face="Times"><font face="Courier" color="purple">printf</font>&nbsp;&nbsp;&nbsp;[Category: Output] &nbsp;&nbsp;<br>      </font>      <dl>        <dd><font face="Times"><font face="Times">Format: <font face="Courier"> <font color="blue">void</font> <font color="purple">printf</font>(<font color="blue">char</font> s[], . . .)</font><br>Prints the contents of the string referenced by s to the cursor position on the screen.<br>See the <A href="#LCD_Screen_Printing">manual</A> above for more details.          </font></font>        </dd>      </dl>      </td>    </tr>    <tr>      <td valign="top"><a name="r_button"></a> </td>      <td><font face="Times"><font face="Courier" color="purple">r_button</font>&nbsp;&nbsp;&nbsp;[Category: Sensors] &nbsp;&nbsp;<br>      </font>      <dl>        <dd><font face="Times"><font face="Times">Format: <font face="Courier"> <font color="blue">int</font> <font color="purple">r_button</font>()</font><br>Reads the value (0 or 1) of the R (shoulder) button.</font></font></dd>      </dl>      </td>    </tr>    <tr>      <td valign="top"><a name="random"></a> </td>      <td><font face="Times"><font face="Courier" color="purple">random</font>&nbsp;&nbsp;&nbsp;[Category: Math] &nbsp;&nbsp;<br>      </font>      <dl>        <dd><font face="Times"><font face="Times">Format: <font face="Courier"> <font color="blue">int</font> <font color="purple">random</font>(<font color="blue">int</font> m)</font><br>Returns a random integer between 0 and some very large number.font></font></dd>      </dl>      </td>    </tr>    <tr>      <td valign="top"><a name="right_button"></a> </td>      <td><font face="Times"><font face="Courier" color="purple">right_button</font>&nbsp;&nbsp;&nbsp;[Category: Sensors] &nbsp;&nbsp;<br>      </font>      <dl>        <dd><font face="Times"><font face="Times">Format: <font face="Courier"> <font color="blue">int</font> <font color="purple">right_button</font>()</font><br>Reads the value (0 or 1) of the move right button.</font></font></dd>      </dl>      </td>    </tr>    <tr>      <td valign="top"><a name="seconds"></a> </td>      <td><font face="Times"><font face="Courier" color="purple">seconds</font>&nbsp;&nbsp;&nbsp;[Category: Time] &nbsp;&nbsp;<br>      </font>      <dl>        <dd><font face="Times"><font face="Times">Format: <font face="Courier"> <font color="blue">float</font> <font color="purple">seconds</font>()</font><br>Returns the count of system time in seconds, as a floating pointnumber. Resolution is one millisecond.</font></font></dd>      </dl>      </td>    </tr>
    <tr>
      <td valign="top"><a name="set_pid_gains"></a> </td>
      <td><font face="Times"><font face="Courier" color="purple">set_pid_gains</font>
&nbsp;&nbsp;&nbsp;[Category: motor] &nbsp;&nbsp;<br>
      </font>
      <dl>
        <dd><font face="Times"><font face="Times">Format: <font
 face="Courier"> <font color="blue">int</font> <font color="purple">set_pid_gains</font>(<font
 color="blue">int</font> motor, <font color="blue">int</font> p, <font color="blue">int
</font> i, <font color="blue">int</font> d, <font color="blue">int</font> pd, <font
 color="blue">int</font> id, <font color="blue">int</font> dd)</font><br>
This function is used to adjust the weights of the PID control for the motors. The p, i and d parameters are the numerators for the p, i and d coefficients.  The pd, id and dd parameters are their respective denominators.  Thus all of the parameters are integers, but the actual coefficients can be floats.  If a motor is jerky, the p and d terms should be reduced in size.  If a motor lags far behind, they should be increased. The default values are 30,0,-30,70,1,51.</font>
</font></font></dd>
      </dl>
    </tr>    <tr>      <td valign="top"><a name="set_servo_position"></a> </td>      <td><font face="Times"><font face="Courier" color="purple">set_servo_position</font>&nbsp;&nbsp;&nbsp;[Category: motor] &nbsp;&nbsp;<br>      </font>      <dl>        <dd><font face="Times"><font face="Times">Format: <font face="Courier"> <font color="blue">int</font> <font color="purple">set_servo_position</font>(<font color="blue">int</font> srv, <font color="blue">int</font> pos)</font><br>Sets the position value of the servo in port <font face="Courier">srv</font>.The value of <font face="Courier">pos</font> must be in the range 0 to2047. There are 4 servo ports (1, 2, 3, 4).</font></font></dd>      </dl>      </td>    </tr>    <tr>      <td style="vertical-align: top;"><br>      </td>      <td style="vertical-align: top;"><font size="5"><font size="3"><font size="5"><font size="3"><font size="5"><font size="3"><font size="5"><font size="3"><font size="5"><font size="3"><font size="4"><font size="3"><font size="4"><font size="3"><font size="5"><font size="3"><font face="Times"><font face="Courier" color="purple">setpwm</font>&nbsp;&nbsp; [Category: Motors] &nbsp;&nbsp;<br>      </font>      <dl>        <dd><font face="Times"><font face="Times">Format: <font face="Courier"> <font color="blue">int</font> <font color="purple">setpwm</font>(<font color="blue">int </font>m, </font></font></font><big><span style="font-family: monospace;"><span style="color: rgb(51, 51, 255);">int</span>          </span><span style="font-family: monospace;">dutycycle</span><span style="font-family: monospace;">)<br>          </span><small>Runs motor m at duty cycle dutycycle (values-100 to 100)</small><br>          </big></dd>      </dl>      </font></font></font></font></font></font></font></font></font></font></font></font></font></font></font></font></td>    </tr>    <tr>      <td valign="top"><a name="sin"></a> </td>      <td><font face="Times"><font face="Courier" color="purple">sin</font>&nbsp;&nbsp;&nbsp;[Category: Math] &nbsp;&nbsp;<br>      </font>      <dl>        <dd><font face="Times"><font face="Times">Format: <font face="Courier"> <font color="blue">float</font> <font color="purple">sin</font>(<font color="blue">float</font> angle)</font><br>Returns the sine of <font face="Courier">angle</font>. <font face="Courier">angle</font> is specified in radians; result is inradians.</font></font></dd>      </dl>      </td>    </tr>    <tr>      <td valign="top"><a name="sleep"></a> </td>      <td><font face="Times"><font face="Courier" color="purple">sleep</font>&nbsp;&nbsp;&nbsp;[Category: Time] &nbsp;&nbsp;<br>      </font>      <dl>        <dd><font face="Times"><font face="Times">Format: <font face="Courier"> <font color="blue">void</font> <font color="purple">sleep</font>(<font color="blue">float</font> sec)</font><br>Waits for an amount of time equal to or slightly greater than <font face="Courier">sec</font> seconds. <font face="Courier">sec</font> isa float. Example:<br>          <font face="Courier">&nbsp;&nbsp;&nbsp;<font color="darkgreen">/*wait for 2 seconds */</font><font color="purple"> sleep</font>(2.0);</font></font></font></dd>      </dl>      </td>    </tr>    <tr>      <td valign="top"><a name="sonar"></a> </td>      <td><font face="Times"><font face="Courier" color="purple">sonar</font>&nbsp;&nbsp;&nbsp;[Category: Sensors] &nbsp;&nbsp;<br>      </font>      <dl>        <dd><font face="Times"><font face="Times">Format: <font face="Courier"> <font color="blue">int</font> <font color="purple">sonar</font>()</font><br>Returns the approximate distance in mm.</font></font></dd>      </dl>      </td>    </tr>    <tr>      <td valign="top"><a name="sqrt"></a> </td>      <td><font face="Times"><font face="Courier" color="purple">sqrt</font>&nbsp;&nbsp;&nbsp;[Category: Math] &nbsp;&nbsp;<br>      </font>      <dl>        <dd><font face="Times"><font face="Times">Format: <font face="Courier"> <font color="blue">float</font> <font color="purple">sqrt</font>(<font color="blue">float</font> num)</font><br>Returns the square root of <font face="Courier">num</font>.</font></font></dd>      </dl>      </td>    </tr>    <tr>      <td valign="top"><a name="start_process"></a> </td>      <td><font face="Times"><font face="Courier" color="purple">start_process</font>&nbsp;&nbsp;&nbsp;[Category: Processes] &nbsp;&nbsp;<br>      </font>      <dl>        <dd><font face="Times"><font face="Times">Format: <font face="Courier"> <font color="blue">int</font> <font color="purple">start_process</font>(&lt;<i><font face="Times">function name</font></i>&gt;);</font><br>The <font face="Courier" color="purple">start_process</font> functionis used to start a process, which then runs in parallel with otheractive processes. The system keeps track of each running process byassigning a process ID number to it. <font face="Courier" color="purple">start_process</font> returns the process ID number foreach process it starts. The process runs until it finishes or until itis terminated by <font face="Courier" color="purple"><a href="#kill_process">kill_process</a></font>. The following code shows the main process creating a <font face="Courier">check_sensor</font> process, and then destroying it onesecond later:          <pre>    <font color="blue">int</font> main() {<br>        <font color="blue">int</font> pid;<br>        pid=<font color="purple">start_process</font>(check_sensor);<br>        <font color="purple">sleep</font>(1.0);<br>        <font color="purple">kill_process</font>(pid);<br>    }</pre>          </font></font></dd>      </dl>      </td>    </tr>    <tr>      <td valign="top"><a name="tan"></a> </td>      <td><font face="Times"><font face="Courier" color="purple">tan</font>&nbsp;&nbsp;&nbsp;[Category: Math] &nbsp;&nbsp;<br>      </font>      <dl>        <dd><font face="Times"><font face="Times">Format: <font face="Courier"> <font color="blue">float</font> <font color="purple">tan</font>(<font color="blue">float</font> angle)</font><br>Returns the tangent of <font face="Courier">angle</font>. <font face="Courier">angle</font> is specified in radians; result is inradians.</font></font></dd>      </dl>      </td>    </tr>    <tr>      <td valign="top"><a name="tone"></a> </td>      <td><font face="Times"><font face="Courier" color="purple">tone</font>&nbsp;&nbsp;&nbsp;[Category: Sound] &nbsp;&nbsp;<br>      </font>      <dl>        <dd><font face="Times"><font face="Times">Format: <font face="Courier"> <font color="blue">void</font> <font color="purple">tone</font>(<font color="blue">float</font> frequency, <font color="blue">float</font>length)</font><br>Produces a tone at pitch <font face="Courier">frequency</font>(measured in Hertz) for length <font face="Courier">seconds</font>.Returns when the tone is finished. Both frequency and length are floats.</font></font></dd>      </dl>      </td>    </tr>    <tr>      <td valign="top"><a name="up_button"></a> </td>      <td><font face="Times"><font face="Courier" color="purple">up_button</font>&nbsp;&nbsp;&nbsp;[Category: Sensors] &nbsp;&nbsp;<br>      </font>      <dl>        <dd><font face="Times"><font face="Times">Format: <font face="Courier"> <font color="blue">int</font> <font color="purple">up_button</font>()</font><br>Reads the value (0 or 1) of the move up button.</font></font></dd>      </dl>      </td>    </tr>  </tbody></table></font></font></font></font></font></font></font></font></font></font></font></font></font></font></font></font></font></font></p><div id="banner"><A NAME='Vision'></A><h3>KISS-C Vision API for the CBC</h3></div><div id="container"><div class="blog"><div class="blogbody"><!--1-05-06 version-->	<h4>Tracking APIs</h4>	</font>	<ul>  <font size="3"> 	<li>Use <br>    <font face="Courier">&nbsp;int <font color="purple">track_is_new_data_available</font>();</font>    <br>to determine if tracking data is available which is newer than the data 	processed by the last call to <font face="Courier">track_update()</font>.</li>  <li>Use <br>    <font face="Courier">&nbsp;void&nbsp;<font color="purple">track_update</font>();</font>    <br>to process tracking data for a new frame and make it available forretrieval by the following calls.</li>  <li>Use <br>    <font face="Courier">&nbsp;int&nbsp;<font color="purple">track_get_frame</font>();</font>    <br>to return value is the frame number used to generate the tracking data.</li>  <li>Use <br>    <font face="Courier">&nbsp;int&nbsp;<font color="purple">track_count</font>(intch);</font> <br>to return the number of blobs available for the channel <font face="Courier">ch</font>, which is a color channel numbered 0 through3.</li>  <li> Use the following functions of the form <br>    <font face="Courier">&nbsp;int&nbsp;<font color="purple">track_<em>property</em></font>(intch, int i);</font> <br>to return the value of a given property for the blob from channel <font face="Courier">ch</font> (range 0-3), index <font face="Courier">i</font>(range 0 to <font face="Courier">track_count(ch)-1</font>). Fill in <font face="Courier"><font color="purple">track_<em>property</em></font>from one of the following: </font>    <dl>      <dd><font face="Courier">        <table id="table1">          <tbody>            <tr>              <td>              <ul>              	<li><font face="Courier">track_size</font></li>              	</ul>              </td>              <td><font face="Times">gets the number of pixels in theblob</font></td>            </tr>            <tr>              <td>              <ul>                <li><font face="Courier">track_x</font></li>              </ul>              </td>              <td><font face="Times">gets the pixel x coordinate of thecentroid of the blob</font></td>            </tr>            <tr>              <td>              <ul>                <li><font face="Courier">track_y</font></li>              </ul>              </td>              <td><font face="Times">gets the pixel y coordinate of theblob<br>(note: 0,0 is the upper left; 159,119 is the lower right)</font></td>            </tr>            <tr>              <td>              <ul>                <li><font face="Courier">track_confidence</font></li>              </ul>              </td>              <td><font face="Times">gets the confidence for seeing theblob as a percentage of the blob pixel area/bounding box area (range0-100, low numbers bad, high numbers good)</font></td>            </tr>                        <tr>              <td>              <ul>                <li><font face="Courier">track_bbox_left</font></li>              </ul>                   </td>              <td><font face="Times">gets the pixel x coordinate of the leftmost 				pixel in the blob</font></td>            </tr>            <tr>              <td>              <ul>                <li><font face="Courier">track_bbox_right</font></li>              </ul>                   </td>              <td><font face="Times">gets the pixel x coordinate of the rightmost 				pixel in the blob</font></td>            </tr>            <tr>              <td>              <ul>                <li><font face="Courier">track_bbox_top</font></li>              </ul>                   </td>              <td><font face="Times">gets the pixel y coordinate of the topmost 				pixel in the blob</font></td>            </tr>            <tr>              <td>              <ul>                <li><font face="Courier">track_bbox_bottom</font></li>              </ul>                   </td>              <td><font face="Times">gets the pixel y coordinate of the bottommost 				pixel in the blob</font></td>            </tr>            <tr>              <td>              <ul>                <li><font face="Courier">track_bbox_width</font></li>              </ul>                   </td>              <td><font face="Times">gets the pixel x width of the bounding box of the blob.  This is equivalent to <font face="Courier">track_bbox_right - track_bbox_left</font></font></td>            </tr>            <tr>              <td>              <ul>                <li><font face="Courier">track_bbox_height</font></li>              </ul>                   </td>              <td><font face="Times">gets the pixel y height of the bounding box of the blob.  This is equivalent to <font face="Courier">track_bbox_bottom - track_bbox_top</font></font></td>            </tr>          </tbody>        </table>        </font></dd>    </dl>  </li>  <li> <font face="Times">Usethe following functions of the form </font><br>    &nbsp;float&nbsp;<font color="purple">track_<em>property</em></font>(intch, int i); <br>    <font face="Times"> to return the value of a givenorientation-related property for the blob from channel <font face="Courier">ch</font> (range 0-3), index <font face="Courier">i</font>(range 0 to <font face="Courier">track_count(ch)-1</font>). Fill in 	<font color="purple" face="Courier">track_<em>property</em></font>from one of the following: </font>    <dl>      <dd><font face="Times">        <table id="table2">          <tbody>            <tr>              <td>              <ul>                <li><font face="Courier">track_angle</font></li>              </ul>              </td>              <td><font face="Times">gets the angle in radians of themajor axis of the blob.  Zero is horizontal and when the left end is higher than the right end the angle will be positive.  The range is -PI/2 to +PI/2.</font></td>            </tr>            <tr>              <td>              <ul>                <li><font face="Courier">track_major_axis</font><br>                  <font face="Courier">track_minor_axis</font></li>              </ul>              </td>              <td><font face="Times">gets the length in pixels of themajor and minor axes of the bounding ellipse</font></td>            </tr>          </tbody>        </table>        </font></dd>    </dl>  </li><a name="Create"></a>      <h2><font size="6"><font size="2"><font size="5"><font size="3"><font size="5"><font size="3"><font size="5"><font size="3"><font size="5"><font size="3"><font size="5"><font size="3"><font size="4"><font size="3"><font size="4"><font size="3"><font size="5"><font size="3"><font face="Courier"><font size="+2" face="Times">Using the Create Library</font><font face="Times"><br>        </font></font></font></font></font></font></font></font></font></font></font></font></font></font></font></font></font></font></font></font></h2>      <h2><font size="6"><font size="2"><font size="5"><font size="3"><font size="5"><font size="3"><font size="5"><font size="3"><font size="5"><font size="3"><font size="5"><font size="3"><font size="4"><font size="3"><font size="4"><font size="3"><font size="5"><font size="3"><font face="Courier"><font face="Times"> The Create library is automatically loaded         whenever CBC is chosen as the target. The functions which update         sensor data, and the connection functions all return 0 if they are successful         and return a negative number if there is some error. The functions update         global variables all of which start with the prefic gc_. The movment function,         with the exception of the script and block functions are all non-blocking.         The movements will continue until a different movment command is given.         The script commands will execute without blocking and will finish when         the goal is reached. The blocking spin function will not return until         the goal has been reached.</font></font></font></font></font></font></font></font></font></font></font></font></font></font></font></font></font></font></font></font></h2>      <table width="100%" border="0">        <tr>          <td width="35%">int create_connect();</td>          <td width="65%">First step for connecting CBC to Create. Returns             0 if sucessful and a negative number if not. This function puts the Create in the create_safe mode.</td>        </tr>        <tr>          <td>void create_disconnect() ;</td>          <td>Returns Create to proper state and resets XBC baud rate to KISS-C rate</td>        </tr>        <tr>          <td>void create_start();</td>          <td>Puts Create into passive mode (no motors)</td>        </tr>        <tr>          <td>void create_passive();</td>          <td>Same as above</td>        </tr>        <tr>          <td>void create_safe();</td>          <td>Create will execute all commands, but will disconnect and stop if             drop or cliff sensors fire.</td>        </tr>        <tr>          <td>void create_full() ;</td>          <td>Create will move however you tell it -- even if that is a bad thing. In particular, the Create will not stop and disconnect, even if it is picked up or the cliff sensors fire.</td>        </tr>        <tr>          <td>void create_spot() ;</td>          <td>Simulates a Roomba doing a spot clean</td>        </tr>        <tr>          <td>void create_cover();</td>          <td>Simulates a Roomba covering a room</td>        </tr>        <tr>          <td>void create_demo(int d) ;</td>          <td>Runs built in demos (see Create OI)</td>        </tr>        <tr>          <td>void create_cover_dock();</td>          <td>Create roams around until it sees an IR dock and then attmpts to             dock</td>        </tr>        <tr>          <td>int create_mode();</td>          <td>Returns the Create's mode (0 off; 1 passive; 2 safe; 3 full).</td>        </tr>        <tr>          <td>int create_sensor_update();</td>          <td>Calls all of the sensor functions below, updating all Create global             variables</td>        </tr>        <tr>          <td>int create_wall();</td>          <td>gc_wall: 1 if wall detected; gc_wall_amt: strength of signal; gc_wall_hb:             home base seen or not</td>        </tr>        <tr>          <td>int create_buttons() ;</td>          <td>updates gc_advance_button, gc_play_button: 1 if pressed 0 if not.</td>        </tr>        <tr>          <td>int create_bumpdrop();</td>          <td>updates gc_lbump, gc_rbump, gc_fdrop, gc_ldrop and gc_rdrop</td>        </tr>        <tr>          <td>int create_cliffs() ;</td>          <td>updates IR cliff detectors from left to right: gc_lcliff, gc_lcliff_amt,             gc_lfcliff, gc_lfcliff_amt, gc_rfcliff, gc_rfcliff_amt, gc_rcliff,             and gc_rcliff_amt: ending in cliff are 1 if a cliff is detected; ending             in _amt gives the strength of signal.</td>        </tr>        <tr>          <td>int create_angle() ;</td>          <td>updates gc_angle which is an int between 0 and 360, and gc_total_angle             which can be of whatever size and sign. Left turns (CCW) are positive             and right turns (CW) negative </td>        </tr>        <tr>          <td>int create_distance();</td>          <td>updates gc_distance which is the distance in mm traveled by center             of robot. Going backwards reduces this number.</td>        </tr>        <tr>          <td>int create_velocity();</td>          <td>updates gc_vel, gc_lvel, gc_rvel which are the current velocity             of the vehicle and left and right wheels in mm/s</td>        </tr>        <tr>          <td>int create_read_IR();</td>          <td>updates gc_IR: 255 means no byte is being received, otherwise it             has the code from the remote</td>        </tr>        <tr>          <td>int create_overcurrents();</td>          <td>updates gc_overcurrents where 16's bit indicates overcurrent in             left wheel; 8's bit in right wheel, 4's bit is LD2, 2's bit is LD0             and 1's bit is LD1.</td>        </tr>        <tr>          <td>int create_battery_charge();</td>          <td>updates gc_batt_voltage in mV, gc_current_flow in mA, gc_batt_charge             and gc_batt_capacity in mAhr.</td>        </tr>        <tr>          <td>int create_cargo_bay_inputs();</td>          <td>updates gc_digital_in 16'bit for pin 15, 8's bit for pin 6, 4's             bit for pin 18, 2's bit for pin 5 and 1's bit for pin 17. gc_analog             is 10 bit resoltion.</td>        </tr>        <tr>          <td>void create_stop();</td>          <td>Stops the drive wheels</td>        </tr>        <tr>          <td>void create_drive (int speed, int radius);</td>          <td>Drives in an arc (see below for point turns and straight). Speed             range for all commands is 20-500mm/s</td>        </tr>        <tr>          <td>void create_drive_straight (int speed);</td>          <td>Drives straight at speed in mm/s</td>        </tr>        <tr>          <td>void create_spin_CW (int speed);</td>          <td>spins CW with edge speed of speed in mm/s</td>        </tr>        <tr>          <td>void create_spin_CCW (int speed);</td>          <td>same as above but different</td>        </tr>        <tr>          <td>void create_drive_direct(int r_speed, int l_speed);</td>          <td>Specifies individual left and right speeds in mm/s</td>        </tr>        <tr>          <td>void create_advance_led(int on) ;</td>          <td>Pass 1 to turn on light and 0 to turn it off</td>        </tr>        <tr>          <td>void create_play_led(int on) ;</td>          <td>Pass 1 to turn on light and 0 to turn it off</td>        </tr>        <tr>          <td>void create_power_led(int color, int brightness) ;</td>          <td>color 0 is red and 255 green; brightness 0 is off and 255 is full             brightness </td>        </tr>        <tr>          <td>void create_load_song(int num);</td>          <td>Picks a song from gc_song_array[16][33]. Each row is a song. First             column of each song is number of notes (max is 16). Remaining columns             alternate between pitch and duration. See Create OI for details.</td>        </tr>        <tr>          <td>void create_play_song(int num);</td>          <td>Plays any of the songs that have been loaded</td>        </tr>        <tr>          <td>&nbsp;</td>          <td>&nbsp;</td>        </tr>      </table>      <h2><font size="6"><font size="2"><font size="5"><font size="3"><font size="5"><font size="3"><font size="5"><font size="3"><font size="5"><font size="3"><font size="5"><font size="3"><font size="4"><font size="3"><font size="4"><font size="3"><font size="5"><font size="3"><font face="Courier"><font face="Times"><br>        </font></font></font></font></font></font></font></font></font></font></font></font></font></font></font></font></font></font></font></font>       </h2>      <div id="container">        <div class="blog">          <div class="blogbody"></div>        </div>      </div>      <font size="6"><font size="2"><font size="5"><font size="3"><font size="5"><font size="3"><font size="5"><font size="3"><font size="5"><font size="3"><font size="5"><font size="3"><font size="4"><font size="3"><font size="4"><font size="3"><font size="5"><font size="3"><font face="Courier"><font face="Times"><a name="Simulator"></a> <br clear="all">      </font></font></font></font></font></font></font></font></font></font></font></font></font></font></font></font></font></font></font></font> </body></html>

<a name="License"></a>      <h1><font size="6"><font size="2"><font size="5"><font size="3"><font size="5"><font size="3"><font size="5"><font size="3"><font size="5"><font size="3"><font size="5"><font size="3"><font size="4"><font size="3"><font size="4"><font size="3"><font size="5"><font size="3"><font face="Courier"><font size="+2" face="Times">License</font><font face="Times"><br>        </font></font></font></font></font></font></font></font></font></font></font></font></font></font></font></font></font></font></font></font></h1><p><pre>      Permission is granted to copy, distribute and/or modify this
      document under the terms of the GNU Free Documentation License,
      Version 1.3 or any later version published by the Free Software
      Foundation; with no Invariant Sections, no Front-Cover Texts and
      no Back-Cover Texts.  A copy of the license can be found <a href="fdl-1.3.txt">here</a>.</pre></p>
